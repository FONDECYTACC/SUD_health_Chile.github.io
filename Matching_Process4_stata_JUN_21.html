<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="reveal.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<h1><a href="#database-step-4" id="database-step-4">Database (step 4)</a></h1>
<p>Date created: 15 Jul 2021.</p>
<p>Install commands that are unavailable or out of date.</p>
<pre><code>. *&lt;&lt; dd_do : noout &gt; &gt;
. clear all

. *https://onlinelibrary.wiley.com/doi/epdf/10.1002/sim.8894
. *https://pclambert.net/pdf/Stata_Nordic2019_Lambert.pdf
. *https://slidetodoc.com/automated-reports-using-stata-chuck-huber-ph-d/
. *~Mi unidad\Alvacast\SISTRAT 2019 (github)\_supp_mstates\stata\12874_2020_1192_MOESM1_ESM.docx
. *https://opr.princeton.edu/workshops/Downloads/2015May_StataGraphicsKoffman.pdf
. *http://www.bruunisejs.dk/StataHacks/My%20commands/matprint/matprint_demo/
. *https://pure.au.dk/portal/files/140882936/ScientificWorkInStataGoneEasy.pdf
. *https://www.stata.com/meeting/nordic-and-baltic18/slides/nordic-and-baltic18_Bruun.pdf
. *https://github.com/dvorakt/TIER_exercises/blob/master/dyndoc_debt_growth/debt%20and%20growth%20stata%2
&gt; 0dyndoc.do
. 
. cap noi net install multistate, from(&quot;https://www.mjcrowther.co.uk/code/multistate&quot;) 
checking multistate consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi net install merlin, from(&quot;https://www.mjcrowther.co.uk/code/merlin/&quot;) 
checking merlin consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi net install merlin, from(https://www.mjcrowther.co.uk/code/merlin) 
checking merlin consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi ssc install matrixtools
checking matrixtools consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi ssc install estwrite
checking estwrite consistency and verifying not already installed...
all files already exist and are up to date.

</code></pre>
<p>We need to obtain the file and the work folder.</p>
<pre><code>. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;/volumes/sdrive/data//&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;/volumes/sdrive/data//&quot;
.         global pathdata &quot;/volumes/sdrive/data//&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(
&gt; username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata2 &quot;E:/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(
&gt; username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

.         
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_m
&gt; ult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
.         global pathdata &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ag
&gt; s&quot;
.         global pathdata2 &quot;C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_a
&gt; gs/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(
&gt; username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\andre\Desktop\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\andre\Desktop\_mult_state_ags&quot;
C:\Users\andre\Desktop\_mult_state_ags
.         global pathdata &quot;C:\Users\andre\Desktop\_mult_state_ags&quot;
.         global pathdata2 &quot;C:/Users/andre/Desktop/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(
&gt; username)'&quot;
Location= C:\Users\andre\Desktop\_mult_state_ags; Date: 15 Jul 2021, considering an OS Windows for the us
&gt; er: andre
. }

. else display &quot;This file does not exist&quot;

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\CISS Fondecyt\OneDrive\Documentos\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ag
&gt; s&quot;
.         global pathdata2 &quot;C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_a
&gt; gs/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(
&gt; username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
</code></pre>
<p>Path data= C:\Users\andre\Desktop_mult_state_ags;</p>
<p>Timestamp: 15 Jul 2021, considering that is a Windows OS for the username: andre</p>
<p>The file is located and named as: C:/Users/andre/Desktop/_mult_state_ags/archivo_multiestado2_jun.dta</p>
<p>variable timevar01 already defined variable _t_scaled already defined</p>
<p>Defined transition matrix.</p>
<p>=============================================================================</p>
<h2><a href="#figures-of-differences" id="figures-of-differences">Figures of Differences</a></h2>
<p>=============================================================================</p>
<pre><code>. *Assessing and relaxing the Markov assumption in the illness-death model
. *Jonathan Broomfield1, Caroline E. Weibull2, and Michael J. Crowther
. *fratio_from1_2_lci_0)(fratio_from1_2_uci_0)(fratio_from1_2_0)(fdiff_prob_from1_2_lci_0)(fdiff_prob_fro
&gt; m1_2_uci_0)(fdiff_prob_from1_2_0)  
. tw      (rarea fdiff_prob_from1_2_lci_0 fdiff_prob_from1_2_uci_0 timevar01, sort connect(stairstep stai
&gt; rstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from1_2_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities&quot;) name(diff_mod12, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * text(0.29
&gt;  4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) 

. *graph export prob_trans_12.gph, replace
</code></pre>
<p><img src="DIFF1_2_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from2_3_lci_0 fdiff_prob_from2_3_uci_0 timevar01, sort connect(stairstep stai
&gt; rstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from2_3_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities&quot;) name(diff_mod12, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * tex
&gt; t(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) 

. *graph export prob_trans_23.gph, replace
</code></pre>
<p><img src="DIFF2_3_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from3_4_lci_0 fdiff_prob_from3_4_uci_0 timevar01, sort connect(stairstep stai
&gt; rstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from3_4_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities&quot;) name(diff_mod12, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) 

. *graph export prob_trans_34.gph, replace
</code></pre>
<p><img src="DIFF3_4_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from4_5_lci_0 fdiff_prob_from4_5_uci_0 timevar01, sort connect(stairstep stai
&gt; rstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from4_5_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities&quot;) name(diff_mod12, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))

. *graph export prob_trans_45.gph, replace
</code></pre>
<p><img src="DIFF4_5_jun.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-differences-3-years" id="figures-of-differences-3-years">Figures of Differences (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. *Assessing and relaxing the Markov assumption in the illness-death model
. *Jonathan Broomfield1, Caroline E. Weibull2, and Michael J. Crowther
. *fratio_from1_2_lci_0)(fratio_from1_2_uci_0)(fratio_from1_2_0)(fdiff_prob_from1_2_lci_0)(fdiff_prob_fro
&gt; m1_2_uci_0)(fdiff_prob_from1_2_0)  
. tw      (rarea fdiff_prob_from1_2_lci_3y fdiff_prob_from1_2_uci_3y timevar01, sort connect(stairstep st
&gt; airstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from1_2_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod12, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * text(0.29
&gt;  4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) 

. *graph export prob_trans_12.gph, replace
</code></pre>
<p><img src="DIFF1_2_3y_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from2_3_lci_3y fdiff_prob_from2_3_uci_3y timevar01, sort connect(stairstep st
&gt; airstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from2_3_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.5(.1).5, /
&gt; // *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod23, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * tex
&gt; t(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) 

. *graph export prob_trans_23.gph, replace
</code></pre>
<p><img src="DIFF2_3_3y_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from3_4_lci_3y fdiff_prob_from3_4_uci_3y timevar01, sort connect(stairstep st
&gt; airstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from3_4_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod34, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) 

. *graph export prob_trans_34.gph, replace
</code></pre>
<p><img src="DIFF3_4_3y_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from4_5_lci_3y fdiff_prob_from4_5_uci_3y timevar01, sort connect(stairstep st
&gt; airstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from4_5_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-1(.25)1, //
&gt; / *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod45, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))

. *graph export prob_trans_45.gph, replace
</code></pre>
<p><img src="DIFF4_5_3y_jun.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-ratio" id="figures-of-ratio">Figures of Ratio</a></h2>
<p>=============================================================================</p>
<pre><code>. tw      (rarea fratio_from1_2_lci_0 fratio_from1_2_uci_0 timevar01, sort connect(stairstep stairstep) l
&gt; color(gs8) color(gs8%65)) ///
&gt;         (line fratio_from1_2_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models12, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * text(0.29
&gt;  4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO1_2_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fratio_from2_3_lci_0 fratio_from2_3_uci_0 timevar01, sort connect(stairstep stairstep) l
&gt; color(gs8) color(gs8%65)) ///
&gt;         (line fratio_from2_3_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models23, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * tex
&gt; t(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO2_3_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fratio_from3_4_lci_0 fratio_from3_4_uci_0 timevar01, sort connect(stairstep stairstep) l
&gt; color(gs8) color(gs8%65)) ///
&gt;         (line fratio_from3_4_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models34, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO3_4_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fratio_from4_5_lci_0 fratio_from4_5_uci_0 timevar01, sort connect(stairstep stairstep) l
&gt; color(gs8) color(gs8%65)) ///
&gt;         (line fratio_from4_5_0 timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models34, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO4_5_jun.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-ratio-3-years" id="figures-of-ratio-3-years">Figures of Ratio (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. tw      (rarea fratio_from1_2_lci_3y fratio_from1_2_uci_3y timevar01, sort connect(stairstep stairstep)
&gt;  lcolor(gs8) color(gs8%65)) ///
&gt;         (line fratio_from1_2_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models12, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * text(0.29
&gt;  4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO1_2_3y_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fratio_from2_3_lci_3y fratio_from2_3_uci_3y timevar01, sort connect(stairstep stairstep)
&gt;  lcolor(gs8) color(gs8%65)) ///
&gt;         (line fratio_from2_3_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models23, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// * tex
&gt; t(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO2_3_3y_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fratio_from3_4_lci_3y fratio_from3_4_uci_3y timevar01, sort connect(stairstep stairstep)
&gt;  lcolor(gs8) color(gs8%65)) ///
&gt;         (line fratio_from3_4_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models34, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO3_4_3y_jun.svg" width="800" ></p>
<pre><code>. tw      (rarea fratio_from4_5_lci_3y fratio_from4_5_uci_3y timevar01, sort connect(stairstep stairstep)
&gt;  lcolor(gs8) color(gs8%65)) ///
&gt;         (line fratio_from4_5_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(1, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Ratio in Probabilities) xlab(0(.3)5,labsize(small)) ylab(0(.5)2, /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Ratio in Probabilities&quot;) name(ratio_models34, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// * text(0.2 4 &quot;Outpatient&quot;, size(small)) /// *
&gt;  text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white))  

</code></pre>
<p><img src="RATIO4_5_3y_jun.svg" width="800" ></p>
<h2><a href="#">=============================================================================</a></h2>
<h2><a href="#">=============================================================================</a></h2>
<pre><code>
</code></pre>
