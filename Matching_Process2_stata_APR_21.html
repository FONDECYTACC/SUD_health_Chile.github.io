<p>&laquo;dd_include: &ldquo;E:/Mi unidad/Alvacast/SISTRAT 2019 (github)/header.txt&rdquo; &raquo; tag dd_include failed to find file {bf:E:/Mi unidad/Alvacast/SISTRAT 2019 (git&hellip; r(601); <head> <link rel="stylesheet" type="text/css" href="stmarkdown.css"></p>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<h1><a href="#base-de-datos-en-stata" id="base-de-datos-en-stata">Base de datos en Stata</a></h1>
<p>Date created: 23 May 2021.</p>
<p>Instalo los comandos que no estén disponibles.</p>
<pre><code>. *&lt;&lt; dd_do : noout &gt; &gt;
. clear all

. *https://onlinelibrary.wiley.com/doi/epdf/10.1002/sim.8894
. *https://pclambert.net/pdf/Stata_Nordic2019_Lambert.pdf
. *https://slidetodoc.com/automated-reports-using-stata-chuck-huber-ph-d/
. *~Mi unidad\Alvacast\SISTRAT 2019 (github)\_supp_mstates\stata\12874_2020_1192_MOESM1_ESM.docx
. *https://opr.princeton.edu/workshops/Downloads/2015May_StataGraphicsKoffman.pdf
. *http://www.bruunisejs.dk/StataHacks/My%20commands/matprint/matprint_demo/
. *https://pure.au.dk/portal/files/140882936/ScientificWorkInStataGoneEasy.pdf
. *https://www.stata.com/meeting/nordic-and-baltic18/slides/nordic-and-baltic18_Bruun.pdf
. *https://github.com/dvorakt/TIER_exercises/blob/master/dyndoc_debt_growth/debt%20and%20growth%20stat
&gt; a%20dyndoc.do
. 
. cap noi net install multistate, from(&quot;https://www.mjcrowther.co.uk/code/multistate&quot;) 
checking multistate consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi net install merlin, from(&quot;https://www.mjcrowther.co.uk/code/merlin/&quot;) 
checking merlin consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi net install merlin, from(https://www.mjcrowther.co.uk/code/merlin) 
checking merlin consistency and verifying not already installed...
all files already exist and are up to date.

. cap noi ssc install matrixtools
checking matrixtools consistency and verifying not already installed...
all files already exist and are up to date.

</code></pre>
<p>Obtuvimos el archivo y la carpeta en donde se trabajará.</p>
<pre><code>. cap confirm file &quot;/volumes/sdrive/data//&quot;

. if _rc != 0 {
.         cap noi cd &quot;/volumes/sdrive/data//&quot;
unable to change to /volumes/sdrive/data//
.         global pathdata &quot;/volumes/sdrive/data//&quot;
.         di &quot;Ubicación= ${pathdata}; Fecha: `c(current_date)', considerando un sistema operativo `c(o
&gt; s)' para el usuario: `c(username)'&quot;
Ubicación= /volumes/sdrive/data//; Fecha: 23 May 2021, considerando un sistema operativo Windows para 
&gt; el usuario: CISS Fondecyt
. }

. 
. cap confirm file &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\ten_st_msprep.dta&quot;

. if _rc != 0 {
.         cap noi cd &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
unable to change to E:\Mi unidad\Alvacast\SISTRAT 2019 (github)
.         global pathdata &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
.         global pathdata2 &quot;E:/Mi unidad/Alvacast/SISTRAT 2019 (github)/&quot;
.         di &quot;Ubicación= ${pathdata}; Fecha: `c(current_date)', considerando un sistema operativo `c(o
&gt; s)' para el usuario: `c(username)'&quot;
Ubicación= E:\Mi unidad\Alvacast\SISTRAT 2019 (github); Fecha: 23 May 2021, considerando un sistema op
&gt; erativo Windows para el usuario: CISS Fondecyt
. }

. 
. 
. cap confirm file &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)\ten_st_msprep.dta&quot;

. if _rc != 0 {
.         cap noi cd &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
.         global pathdata &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
.         global pathdata2 &quot;G:/Mi unidad/Alvacast/SISTRAT 2019 (github)/&quot;
.         di &quot;Ubicación= ${pathdata}; Fecha: `c(current_date)', considerando un sistema operativo `c(o
&gt; s)' para el usuario: `c(username)'&quot;
. }

. 
. pwd
G:\Mi unidad\Alvacast\SISTRAT 2019 (github)

. 
.         == &quot;C:\Users\CISS Fondecyt\OneDrive\Documentos&quot; {
== is not a valid command name
r(199);

.         cap noi cd &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
G:\Mi unidad\Alvacast\SISTRAT 2019 (github)

.         global pathdata &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;

.         global pathdata2 &quot;G:/Mi unidad/Alvacast/SISTRAT 2019 (github)/&quot;

.         di &quot;Ubicación= ${pathdata}; Fecha: `c(current_date)', considerando un sistema operativo `c(o
&gt; s)' para el usuario: `c(username)'&quot;
Ubicación= G:\Mi unidad\Alvacast\SISTRAT 2019 (github); Fecha: 23 May 2021, considerando un sistema op
&gt; erativo Windows para el usuario: CISS Fondecyt

. }
} is not a valid command name
r(199);

</code></pre>
<p>Path data= G:\Mi unidad\Alvacast\SISTRAT 2019 (github); Timestamp: 23 May 2021, considering that is a Windows OS for the username: CISS Fondecyt</p>
<p>Primero abro los archivos que corresponden, elimino variables por el momento que podrían ampliar mi muestra erróneamente, y defino etiquetas de variables. El archivo está ubicado en y se llama: G:/Mi unidad/Alvacast/SISTRAT 2019 (github)/ten_st_msprep.dta</p>
<p>Luego definimos la matriz de transición.</p>
<p>fopen error -603<style> #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</p>
<blockquote>
<p>:nth-child(1)&gt;th:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-child(4){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-child(5){text-align: right;} #tbl2247209447574 tbody</p>
<blockquote>
<p>tr:nth-child(1)&gt;th:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(1)&gt;th:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;th:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child2thnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child2thnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(2)&gt;th:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child2thnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child2thnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(2)&gt;th:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(2)&gt;th:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;th:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child1tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child1tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(1)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child1tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child1tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(1)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(1)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(1)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child2tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child2tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(2)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child2tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child2tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(2)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(2)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(2)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child3tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child3tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(3)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child3tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child3tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(3)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(3)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(3)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child4tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child4tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(4)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child4tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child4tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(4)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(4)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(4)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child5tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child5tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(5)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child5tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child5tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(5)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(5)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(5)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child6tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child6tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(6)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child6tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child6tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(6)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(6)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(6)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child7tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child7tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(7)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child7tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child7tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(7)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(7)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(7)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child8tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child8tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(8)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child8tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child8tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(8)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(8)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(8)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child9tdnth-child1text-align-left-tbl2247209447574-tbodytr" id="tbl2247209447574-tbodytrnth-child9tdnth-child1text-align-left-tbl2247209447574-tbodytr">tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;tr</a></h1>
<p>:nth-child(9)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-chil d(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-child(4){text-align: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child9tdnth-child5text-align-right-tbl2247209447574-tbody" id="tbl2247209447574-tbodytrnth-child9tdnth-child5text-align-right-tbl2247209447574-tbody">tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody</a></h1>
<p>tr:nth-child(9)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth- child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-child(8){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-child(9){text-align: right;} #tbl2247209447574 t body&gt;tr:nth-child(9)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td :nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(9)&gt;td:nth-child(12){text-ali gn: right;}</p>
<h1><a href="#tbl2247209447574-tbodytrnth-child10tdnth-child1text-align-left-tbl2247209447574-tbodyt" id="tbl2247209447574-tbodytrnth-child10tdnth-child1text-align-left-tbl2247209447574-tbodyt">tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(1){text-align: left;} #tbl2247209447574 tbody&gt;t</a></h1>
<p>r:nth-child(10)&gt;td:nth-child(2){text-align: left;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-c hild(3){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(4){text-align: rig ht;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(5){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(6){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt; td:nth-child(7){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(8){text-al ign: right;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(9){text-align: right;} #tbl224720 9447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child(10){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-c hild(10)&gt;td:nth-child(11){text-align: right;} #tbl2247209447574 tbody&gt;tr:nth-child(10)&gt;td:nth-child( 12){text-align: right;}</p>
<h1><a href="#tbl2247209447574-width-95-margin-left-auto-margin-right-auto" id="tbl2247209447574-width-95-margin-left-auto-margin-right-auto">tbl2247209447574 {width: 95%; margin-left: auto; margin-right: auto;}</a></h1>
<h1><a href="#tbl2247209447574-trlast-childthborder-bottom-2px-solid-black" id="tbl2247209447574-trlast-childthborder-bottom-2px-solid-black">tbl2247209447574 tr:last-child&gt;th{border-bottom: 2px solid black;}</a></h1>
<p></style> <table id=tbl2247209447574 width="95%"> <thead></p>
<caption>Matriz de 10 estados</caption>
<caption>Matriz de 10 estados</caption>
<tr><th>&nbsp;&nbsp;   </th><th>                   </th><th>   to</th><th>         </th><th>          
</th><th>                  </th><th>          </th><th>            </th><th>                   </th
<th>          </th><th>            </th><th>                   </th></tr>
<tr><th>&nbsp;&nbsp;   </th><th>                   </th><th>start</th><th>TD_status</th><th>DWCA_statu
s</th><th>Readmission_status</th><th>TD2_status</th><th>DWCA2_status</th><th>Readmission2_status</th
<th>TD3_status</th><th>DWCA3_status</th><th>Readmission3_status</th></tr>
</thead>
<tbody>
<tr><td>from</td><td>start              </td><td>     </td><td>        1</td><td>          2</td><td> 
3</td><td>          </td><td>            </td><td>                   </td><td>      
</td><td>            </td><td>                   </td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>TD_status          </td><td>     </td><td>         </td><td>          
</td><td>                 4</td><td>          </td><td>            </td><td>                   </td
<td>          </td><td>            </td><td>                   </td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>DWCA_status        </td><td>     </td><td>         </td><td>          
</td><td>                 5</td><td>          </td><td>            </td><td>                   </td
<td>          </td><td>            </td><td>                   </td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>Readmission_status </td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>         6</td><td>           7</td><td>                  8</td
<td>          </td><td>            </td><td>                   </td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>TD2_status         </td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>          </td><td>            </td><td>                  9</td
<td>          </td><td>            </td><td>                   </td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>DWCA2_status       </td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>          </td><td>            </td><td>                 10</td
<td>          </td><td>            </td><td>                   </td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>Readmission2_status</td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>          </td><td>            </td><td>                   </td
<td>        11</td><td>          12</td><td>                 13</td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>TD3_status         </td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>          </td><td>            </td><td>                   </td
<td>          </td><td>            </td><td>                 14</td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>DWCA3_status       </td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>          </td><td>            </td><td>                   </td
<td>          </td><td>            </td><td>                 15</td></tr>
<tr><td>&nbsp;&nbsp;   </td><td>Readmission3_status</td><td>     </td><td>         </td><td>          
</td><td>                  </td><td>          </td><td>            </td><td>                   </td
<td>          </td><td>            </td><td>                   </td></tr>
</tbody>
</table>
</blockquote>
</blockquote>
<p>y transformarmos la base de datos en formato largo, acorde con los lineamientos. Adicionalmente, añadimos la matriz de datos observados.</p>
<pre><code>



</code></pre>
<p>Finalmente, la estructura de la  base de datos asume las siguientes transiciones:</p>
<pre><code>
</code></pre>
<p><img src="auto.svg" width="800" ></p>
<pre><code></code></pre>
<p>Configuro la base como supervivencia en formato de tiempo de renovación.</p>
<pre><code>. stset _stop, enter(_start) failure(_status=1) //* scale(365.25) id(id) 

     failure event:  _status == 1
obs. time interval:  (0, _stop]
 enter on or after:  time _start
 exit on or before:  failure

------------------------------------------------------------------------------
    119,356  total observations
          0  exclusions
------------------------------------------------------------------------------
    119,356  observations remaining, representing
     34,437  failures in single-record/single-failure data
   67022850  total analysis time at risk and under observation
                                                at risk from t =         0
                                     earliest observed entry t =         0
                                          last observed exit t =     4,431

</code></pre>
<p>=============================================================================</p>
<h2><a href="#aalen-johanssen-probabilidades-de-transición-modelo-no-paramétrico" id="aalen-johanssen-probabilidades-de-transición-modelo-no-paramétrico">Aalen-Johanssen, Probabilidades de transición modelo no-paramétrico</a></h2>
<p>=============================================================================</p>
<p>Luego generé un estimador de Aalen-Johanssen para obtener las probabilidades de transición de los datos desde el tiempo 0 (inicio o admisión a la base). Para ello separé las probabilidades de transición de acuerdo al tipo de plan a la base.</p>
<pre><code>. *http://fmwww.bc.edu/repec/bocode/m/msaj.ado
. msaj, transmatrix(mat_ten_states) by(tipo_de_plan_res_1) ci

. rename (P_AJ_*) (ajprob*)

</code></pre>
<p>Para generar las figuras, sólo selecciono las transiciones válidas</p>
<p><img src="auto1.svg" width="800" ></p>
<p><img src="auto2.svg" width="800" ></p>
<p><img src="auto3.svg" width="800" ></p>
<p><img src="auto4.svg" width="800" ></p>
<p><img src="auto5.svg" width="800" ></p>
<p><img src="auto6.svg" width="800" ></p>
<p><img src="auto7.svg" width="800" ></p>
<p><img src="auto8.svg" width="800" ></p>
<p><img src="auto9.svg" width="800" ></p>
<p>Calculamos las probabilidades de transición desde un determinado estado en los tiempos 30, 90, 365, 1095 y 1826</p>
<pre><code>variable trp_ajprob* not found



</code></pre>
<p>variable _t2 not found</p>
<p>(62,765 real changes made)</p>
<p><img src="auto10.svg" width="800" ></p>
<p><img src="auto11.svg" width="800" ></p>
<p><img src="auto12.svg" width="800" ></p>
<p><img src="auto13.svg" width="800" ></p>
<p><img src="auto14.svg" width="800" ></p>
<p><img src="auto15.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#estimación-de-modelos-paramétricos" id="estimación-de-modelos-paramétricos">Estimación de Modelos Paramétricos</a></h2>
<p>=============================================================================</p>
<h3><a href="#sin-covariables" id="sin-covariables">Sin covariables</a></h3>
<p>Generamos una lista de modelos paramétricos sin variables predictivas. Entre ellas, el Exponencial, weibull, gompertz, log-logistico, log-normal y gama generalizado. Adicionalmente, se definió una serie de modelos royston-palmar con una función de splines cúblicos restringidos, en que los knots (#gl -1) se definen en cada percentil de la distribución. En este caso, no existe una variable perdictiva más que la función de riesgo acumulado. Guardamos las estimaciones en el archivo `parmodels&rsquo;.</p>
<p>file parmodels.ster could not be opened</p>
<p>Seleccionamos el modelo con menores índices de ajuste.</p>
<pre><code>estimation result m2_* not found
stats_2 not found
matrix comb not found
</code></pre>
<p>&laquo;dd_include: &ldquo;testreg.html&rdquo; &raquo; tag dd_include failed to find file testreg.html r(601);</p>
<p>Luego, se hace necesario incorporar tiempos de entrada</p>
<pre><code></code></pre>
<h3><a href="#incorporar-tiempo-de-llegada-y-tipo-de-plan" id="incorporar-tiempo-de-llegada-y-tipo-de-plan">Incorporar tiempo de llegada y tipo de plan</a></h3>
<p>=============================================================================</p>
<h2><a href="#cálculo-de-probabilidades-de-transición-para-cada-estado" id="cálculo-de-probabilidades-de-transición-para-cada-estado">Cálculo de probabilidades de transición para cada estado</a></h2>
<p>=============================================================================</p>
<pre><code>
file G:/Mi unidad/Alvacast/SISTRAT 2019 (github)/archivo_multiestado.dta already exists
r(602);

</code></pre>
