<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<h1><a href="#database-step-2" id="database-step-2">Database (step 2)</a></h1>
<p>Date created:  10:43:18 17 Sep 2022.</p>
<p>Install commands that are unavailable or out of date.</p>
<pre><code>. *&lt;&lt; dd_do : noout &gt; &gt;
. clear all

. 
. cap noi which predictms
c:\ado\plus\p\predictms.ado
*! version 4.4.0 22dec2021 MJC

. if _rc==111 {
.         cap noi net install multistate, from(&quot;https://www.mjcrowther.co.uk/code/multistate&quot;) 
.         }

. cap noi which merlin
c:\ado\plus\m\merlin.ado
*! version 2.1.5 18mar2022 MJC

. if _rc==111 {
.         cap noi net install merlin, from(&quot;https://www.mjcrowther.co.uk/code/merlin/&quot;) 
.         }

. cap noi which sumat
c:\ado\plus\s\sumat.ado
*! Part of package matrixtools v. 0.28
*! Support: Niels Henrik Bruun, niels.henrik.bruun@gmail.com
*! 2021-01-03 toxl added

. if _rc==111 {
.         cap noi scc install matrixtools
.         }

. cap noi which estwrite
c:\ado\plus\e\estwrite.ado
*! version 1.2.4 04sep2009
*! version 1.0.1 15may2007 (renamed from -eststo- to -estwrite-; -append- added)
*! version 1.0.0 29apr2005 Ben Jann (ETH Zurich)

. if _rc==111 {
.         cap noi ssc install estwrite
.         }

. cap noi which winsor2
c:\ado\plus\w\winsor2.ado
*! Inspirit of -winsor-(NJ Cox) and -winsorizeJ-(J Caskey)
*! Lian Yujun, arlionn@163.com, 2013-12-25
*! 1.1 2014.12.16

. if _rc==111 {
.         cap noi ssc install winsor2
.         }       

.         
</code></pre>
<p>We need to obtain the file and the work folder.</p>
<pre><code>. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;/volumes/sdrive/data//&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;/volumes/sdrive/data//&quot;
.         global pathdata &quot;/volumes/sdrive/data//&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(u
&gt; sername)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags
.         global pathdata &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata2 &quot;E:/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(u
&gt; sername)'&quot;
Location= E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags; Date: 17 Sep 2022, considering an O
&gt; S Windows for the user: andre
. }

. else display &quot;This file does not exist&quot;

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata &quot;G:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata2 &quot;G:/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(u
&gt; sername)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

.                 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mu
&gt; lt_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
.         global pathdata &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags
&gt; &quot;
.         global pathdata2 &quot;C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ag
&gt; s/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(u
&gt; sername)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\andre\Desktop\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\andre\Desktop\_mult_state_ags&quot;
.         global pathdata &quot;C:\Users\andre\Desktop\_mult_state_ags&quot;
.         global pathdata2 &quot;C:/Users/andre/Desktop/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(u
&gt; sername)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\CISS Fondecyt\OneDrive\Documentos\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags
&gt; &quot;
.         global pathdata2 &quot;C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ag
&gt; s/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(u
&gt; sername)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
</code></pre>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<p>Path data= E:\Mi unidad\Alvacast\SISTRAT 2019 (github)_mult_state_ags;</p>
<p>Timestamp: 17 Sep 2022, considering that is a Windows OS for the username: andre</p>
<p>The file is located and named as: E:/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/archivo_multiestado0_jul_22_corr_3y.dta</p>
<p>variable timevar01 already defined variable _t_scaled already defined</p>
<p>Defined a transition matrix.</p>
<p>=============================================================================</p>
<h2><a href="#figures-of-transition-probabilities-3-years" id="figures-of-transition-probabilities-3-years">Figures of Transition Probabilities (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. *Assessing and relaxing the Markov assumption in the illness-death model
. *Jonathan Broomfield1, Caroline E. Weibull2, and Michael J. Crowther
. tw      (rarea fprob_from1a_2_lci_3y fprob_from1a_2_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from1b_2_lci_3y fprob_from1b_2_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(black) color(black%35)) ///
&gt;         (line fprob_from1a_2_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) 
&gt; ///
&gt;         (line fprob_from1b_2_3y timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_12 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_12 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.05).4, ///
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities(3y)&quot;) name(trans_models_12_3y_22, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// *text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// *text(0.29 4 
&gt; &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_12_3y_22_corr.gph, replace)    
(file trans_models_12_3y_22_corr.gph saved)

.  graph save &quot;trans_models_12_3y_22_corr.gph&quot;, replace
(file trans_models_12_3y_22_corr.gph saved)

</code></pre>
<p><img src="PROBS1_2_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fprob_from2a_3_lci_3y fprob_from2a_3_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from2b_3_lci_3y fprob_from2b_3_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(black) color(black%35)) ///
&gt;         (line fprob_from2a_3_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) 
&gt; ///
&gt;         (line fprob_from2b_3_3y timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_23 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_23 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.05).3, ///
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(5) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities(3y)&quot;) name(trans_models_23_3y_22, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// *text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(
&gt; 0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_23_3y_22_corr.gph, replace)   
(file trans_models_23_3y_22_corr.gph saved)

.  graph save &quot;trans_models_23_3y_22_corr.gph&quot;, replace
(file trans_models_23_3y_22_corr.gph saved)

</code></pre>
<p><img src="PROBS2_3_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fprob_from3a_4_lci_3y fprob_from3a_4_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from3b_4_lci_3y fprob_from3b_4_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(black) color(black%35)) ///
&gt;         (line fprob_from3a_4_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) 
&gt; ///
&gt;         (line fprob_from3b_4_3y timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_34 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_34 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.05).4, ///
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(5) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities(3y)&quot;) name(trans_models_34_3y_22, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// *text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * t
&gt; ext(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_34_3y_22_corr.gph, replace)   
(file trans_models_34_3y_22_corr.gph saved)

.  graph save &quot;trans_models_34_3y_22_corr.gph&quot;, replace
(file trans_models_34_3y_22_corr.gph saved)

</code></pre>
<p><img src="PROBS3_4_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fprob_from4a_5_lci_3y fprob_from4a_5_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from4b_5_lci_3y fprob_from4b_5_uci_3y timevar01, sort connect(stairstep stairstep) 
&gt; lcolor(black) color(black%35)) ///
&gt;         (line fprob_from4a_5_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) 
&gt; ///
&gt;         (line fprob_from4b_5_3y timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_45 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_45 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.2)1, ///
&gt;  angle(h) format(%4.1f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities(3y)&quot;) name(trans_models_45_3y_22, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * 
&gt; text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_45_3y_22_corr.gph, replace)    
(file trans_models_45_3y_22_corr.gph saved)

.  graph save &quot;trans_models_45_3y_22_corr.gph&quot;, replace
(file trans_models_45_3y_22_corr.gph saved)

</code></pre>
<p><img src="PROBS4_5_3y_jun_22_corr.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-transition-probabilities-rp-3-years" id="figures-of-transition-probabilities-rp-3-years">Figures of Transition Probabilities (RP) (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. *Assessing and relaxing the Markov assumption in the illness-death model
. *Jonathan Broomfield1, Caroline E. Weibull2, and Michael J. Crowther
. tw      (rarea fprob_from1a_2_lci_3y_rp fprob_from1a_2_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from1b_2_lci_3y_rp fprob_from1b_2_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(black) color(black%35)) ///
&gt;         (line fprob_from1a_2_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;
&gt; )) ///
&gt;         (line fprob_from1b_2_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_12 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_12 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.05).4, ///
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory (RP)&quot; 4 &quot;
&gt; Residential (RP)&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities (RP)(3y)&quot;) name(trans_models_12_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// *text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// *text(0.29 4 
&gt; &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_12_3y_rp_22_corr.gph, replace)    
(file trans_models_12_3y_rp_22_corr.gph saved)

.  graph save &quot;trans_models_12_3y_rp_22_corr.gph&quot;, replace
(file trans_models_12_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="PROBS1_2_3y_jun_rp_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fprob_from2a_3_lci_3y_rp fprob_from2a_3_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from2b_3_lci_3y_rp fprob_from2b_3_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(black) color(black%35)) ///
&gt;         (line fprob_from2a_3_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;
&gt; )) ///
&gt;         (line fprob_from2b_3_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_23 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_23 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.05).3, ///
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory (RP)&quot; 4 &quot;
&gt; Residential (RP)&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(5) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities (RP)(3y)&quot;) name(trans_models_23_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// *text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(
&gt; 0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_23_3y_rp_22_corr.gph, replace)     
(file trans_models_23_3y_rp_22_corr.gph saved)

.  graph save &quot;trans_models_23_3y_rp_22_corr.gph&quot;, replace
(file trans_models_23_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="PROBS2_3_3y_jun_rp_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fprob_from3a_4_lci_3y_rp fprob_from3a_4_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from3b_4_lci_3y_rp fprob_from3b_4_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(black) color(black%35)) ///
&gt;         (line fprob_from3a_4_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;
&gt; )) ///
&gt;         (line fprob_from3b_4_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_34 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_34 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.05).4, ///
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory (RP)&quot; 4 &quot;
&gt; Residential (RP)&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(5) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities (RP)(3y)&quot;) name(trans_models_34_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// *text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * t
&gt; ext(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_34_3y_rp_22_corr.gph, replace)     
(file trans_models_34_3y_rp_22_corr.gph saved)

.  graph save &quot;trans_models_34_3y_rp_22_corr.gph&quot;, replace
(file trans_models_34_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="PROBS3_4_3y_jun_rp_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fprob_from4a_5_lci_3y_rp fprob_from4a_5_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea fprob_from4b_5_lci_3y_rp fprob_from4b_5_uci_3y_rp timevar01, sort connect(stairstep stair
&gt; step) lcolor(black) color(black%35)) ///
&gt;         (line fprob_from4a_5_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;
&gt; )) ///
&gt;         (line fprob_from4b_5_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)) ///
&gt;         (line trp_ajprob_30_1826_45 _t_scaled if tipo_de_plan_res_1==0 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50) lpattern(&quot;-&quot;)) ///
&gt;         (line trp_ajprob_30_1826_45 _t_scaled if tipo_de_plan_res_1==1 &amp; _t_scaled&lt;=5, sort connect(stai
&gt; rstep stairstep) lcolor(red%50)),       ///
&gt;  xtitle(Time (years)) ytitle(Probability) xlab(0(.3)5,labsize(small)) ylab(0(0.2)1, ///
&gt;  angle(h) format(%4.1f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory (RP)&quot; 4 &quot;
&gt; Residential (RP)&quot; 5 &quot;Ambulatory(LMAJ)&quot; 6 &quot;Residential(LMAJ)&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Transition Probabilities (RP)(3y)&quot;) name(trans_models_45_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * 
&gt; text(0.29 4 &quot;Residential&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(trans_models_45_3y_rp_22_corr.gph, replace)     
(file trans_models_45_3y_rp_22_corr.gph saved)

.  graph save &quot;trans_models_45_3y_rp_22_corr.gph&quot;, replace
(file trans_models_45_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="PROBS4_5_3y_jun_rp_22_corr.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-expected-lengths-of-stay-3-years" id="figures-of-expected-lengths-of-stay-3-years">Figures of Expected Lengths of Stay (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. tw      (rarea flos_from1a_1_lci_3y flos_from1a_1_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from1b_1_lci_3y flos_from1b_1_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(black) color(black%35)) ///
&gt;         (line flos_from1a_1_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) /
&gt; //
&gt;         (line flos_from1b_1_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)365, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay(3y)&quot;) name(los_models_11_3y_22_corr, replace) ///
&gt;  subtitle(&quot;in Admission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Residential&quot;, 
&gt; size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_11_3y_22_corr.gph, replace)     
(file los_models_11_3y_22_corr.gph saved)

.  graph save &quot;los_models_11_3y_22_corr.gph&quot;, replace
(file los_models_11_3y_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun11_3y_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea flos_from2a_2_lci_3y flos_from2a_2_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from2b_2_lci_3y flos_from2b_2_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(black) color(black%35)) ///
&gt;         (line flos_from2a_2_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) /
&gt; //
&gt;         (line flos_from2b_2_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)400, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay(3y)&quot;) name(los_models_22_3y_22, replace) ///
&gt;  subtitle(&quot;in Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Residential&quot;
&gt; , size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_22_3y_22_corr.gph, replace)    
(file los_models_22_3y_22_corr.gph saved)

.  graph save &quot;los_models_22_3y_22_corr.gph&quot;, replace
(file los_models_22_3y_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun22_3y_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea flos_from3a_3_lci_3y flos_from3a_3_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from3b_3_lci_3y flos_from3b_3_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(black) color(black%35)) ///
&gt;         (line flos_from3a_3_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) /
&gt; //
&gt;         (line flos_from3b_3_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)540, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay(3y)&quot;) name(los_models_33_3y_22, replace) ///
&gt;  subtitle(&quot;in 2nd Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Resident
&gt; ial&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_33_3y_22_corr.gph, replace)     
(file los_models_33_3y_22_corr.gph saved)

.  graph save &quot;los_models_33_3y_22_corr.gph&quot;, replace
(file los_models_33_3y_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun33_3y_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea flos_from4a_4_lci_3y flos_from4a_4_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from4b_4_lci_3y flos_from4b_4_uci_3y timevar01, sort connect(stairstep stairstep) lc
&gt; olor(black) color(black%35)) ///
&gt;         (line flos_from4a_4_3y timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)) /
&gt; //
&gt;         (line flos_from4b_4_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)1080, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay(3y)&quot;) name(los_models_44_3y_22, replace) ///
&gt;  subtitle(&quot;in 3rd Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Resident
&gt; ial&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_44_3y_22_corr.gph, replace)   
(file los_models_44_3y_22_corr.gph saved)

.  graph save &quot;los_models_44_3y_22_corr.gph&quot;, replace
(file los_models_44_3y_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun44_3y_22_corr.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-expected-lengths-of-stay-3-years-rp" id="figures-of-expected-lengths-of-stay-3-years-rp">Figures of Expected Lengths of Stay (3 years) (RP)</a></h2>
<p>=============================================================================</p>
<pre><code>. tw      (rarea flos_from1a_1_lci_3y_rp flos_from1a_1_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from1b_1_lci_3y_rp flos_from1b_1_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(black) color(black%35)) ///
&gt;         (line flos_from1a_1_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)
&gt; ) ///
&gt;         (line flos_from1b_1_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)365, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory (RP)&quot; 4 &quot;
&gt; Residential (RP)&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay (RP)(3y)&quot;) name(los_models_11_3y_rp_22, replace) ///
&gt;  subtitle(&quot;in Admission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Residential&quot;, 
&gt; size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_11_3y_rp_22_corr.gph, replace)   
(file los_models_11_3y_rp_22_corr.gph saved)

.  graph save &quot;los_models_11_3y_rp_22_corr.gph&quot;, replace
(file los_models_11_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun11_3y_rp_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea flos_from2a_2_lci_3y_rp flos_from2a_2_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from2b_2_lci_3y_rp flos_from2b_2_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(black) color(black%35)) ///
&gt;         (line flos_from2a_2_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)
&gt; ) ///
&gt;         (line flos_from2b_2_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)400, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay (RP)(3y)&quot;) name(los_models_22_3y_rp_22, replace) ///
&gt;  subtitle(&quot;in Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Residential&quot;
&gt; , size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_22_3y_rp_22_corr.gph, replace)    
(file los_models_22_3y_rp_22_corr.gph saved)

.  graph save &quot;los_models_22_3y_rp_22_corr.gph&quot;, replace
(file los_models_22_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun22_3y_rp_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea flos_from3a_3_lci_3y_rp flos_from3a_3_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from3b_3_lci_3y_rp flos_from3b_3_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(black) color(black%35)) ///
&gt;         (line flos_from3a_3_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)
&gt; ) ///
&gt;         (line flos_from3b_3_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)540, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay (RP)(3y)&quot;) name(los_models_33_3y_rp_22, replace) ///
&gt;  subtitle(&quot;in 2nd Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Resident
&gt; ial&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_33_3y_rp_22_corr.gph, replace)    
(file los_models_33_3y_rp_22_corr.gph saved)

.  graph save &quot;los_models_33_3y_rp_22_corr.gph&quot;, replace
(file los_models_33_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun33_3y_rp_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea flos_from4a_4_lci_3y_rp flos_from4a_4_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(gs8) color(gs8%35)) ///
&gt;         (rarea flos_from4b_4_lci_3y_rp flos_from4b_4_uci_3y_rp timevar01, sort connect(stairstep stairst
&gt; ep) lcolor(black) color(black%35)) ///
&gt;         (line flos_from4a_4_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(gs8) lpattern(&quot;-&quot;)
&gt; ) ///
&gt;         (line flos_from4b_4_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;  xtitle(Time (years)) ytitle(LOS (years)) xlab(0(.3)5,labsize(small)) ylab(0(90)1080, /// *730
&gt;  angle(h) format(%4.0f)) legend(order(1 &quot;Ambulatory CI95%&quot; 2 &quot;Residential CI95%&quot; 3 &quot;Ambulatory&quot; 4 &quot;Resid
&gt; ential&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Length of Stay (RP)(3y)&quot;) name(los_models_44_3y_rp_22, replace) ///
&gt;  subtitle(&quot;in 3rd Readmission&quot;)  /// * text(0.2 4 &quot;Ambulatory&quot;, size(small)) /// * text(0.29 4 &quot;Resident
&gt; ial&quot;, size(small)) ///
&gt;  graphregion(col(white)) saving(los_models_44_3y_rp_22_corr.gph, replace)    
(file los_models_44_3y_rp_22_corr.gph saved)

.  graph save &quot;los_models_44_3y_rp_22_corr.gph&quot;, replace
(file los_models_44_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="LOS_jun44_3y_rp_22_corr.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-differences-3-years" id="figures-of-differences-3-years">Figures of Differences (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. *Assessing and relaxing the Markov assumption in the illness-death model
. *Jonathan Broomfield1, Caroline E. Weibull2, and Michael J. Crowther
. *fratio_from1_2_lci_0)(fratio_from1_2_uci_0)(fratio_from1_2_0)(fdiff_prob_from1_2_lci_0)(fdiff_prob_from
&gt; 1_2_uci_0)(fdiff_prob_from1_2_0)  
. tw      (rarea fdiff_prob_from1_2_lci_3y fdiff_prob_from1_2_uci_3y timevar01, sort connect(stairstep sta
&gt; irstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from1_2_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod12_3y_22, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission&quot;)  /// 
&gt;  graphregion(col(white))  saving(diff_mod12_3y_22_corr.gph, replace) 
(file diff_mod12_3y_22_corr.gph saved)

.  graph save &quot;diff_mod12_3y_22_corr.gph&quot;, replace
(file diff_mod12_3y_22_corr.gph saved)

</code></pre>
<p><img src="DIFF1_2_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from2_3_lci_3y fdiff_prob_from2_3_uci_3y timevar01, sort connect(stairstep sta
&gt; irstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from2_3_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod23_3y_22, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission&quot;)  /// 
&gt;  graphregion(col(white))   saving(diff_mod23_3y_22_corr.gph, replace) 
(file diff_mod23_3y_22_corr.gph saved)

.  graph save &quot;diff_mod23_3y_22_corr.gph&quot;, replace
(file diff_mod23_3y_22_corr.gph saved)

</code></pre>
<p><img src="DIFF2_3_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from3_4_lci_3y fdiff_prob_from3_4_uci_3y timevar01, sort connect(stairstep sta
&gt; irstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from3_4_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod34_3y_22, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission&quot;)  /// 
&gt;  graphregion(col(white))  saving(diff_mod34_3y_22_corr.gph, replace) 
(file diff_mod34_3y_22_corr.gph saved)

.  graph save &quot;diff_mod34_3y_22_corr.gph&quot;, replace
(file diff_mod34_3y_22_corr.gph saved)

</code></pre>
<p><img src="DIFF3_4_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from4_5_lci_3y fdiff_prob_from4_5_uci_3y timevar01, sort connect(stairstep sta
&gt; irstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from4_5_3y timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod45_3y_22, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission&quot;)  /// 
&gt;  graphregion(col(white)) saving(diff_mod_45_3y_22_corr.gph, replace) 
(file diff_mod_45_3y_22_corr.gph saved)

.  graph save &quot;diff_mod45_3y_22_corr.gph&quot;, replace
(file diff_mod45_3y_22_corr.gph saved)

</code></pre>
<p><img src="DIFF4_5_3y_jun_22_corr.svg" width="800" ></p>
<p>=============================================================================</p>
<h2><a href="#figures-of-differences-rp-3-years" id="figures-of-differences-rp-3-years">Figures of Differences (RP) (3 years)</a></h2>
<p>=============================================================================</p>
<pre><code>. *Assessing and relaxing the Markov assumption in the illness-death model
. *Jonathan Broomfield1, Caroline E. Weibull2, and Michael J. Crowther
. *fratio_from1_2_lci_0)(fratio_from1_2_uci_0)(fratio_from1_2_0)(fdiff_prob_from1_2_lci_0)(fdiff_prob_from
&gt; 1_2_uci_0)(fdiff_prob_from1_2_0)  
. tw      (rarea fdiff_prob_from1_2_lci_3y_rp fdiff_prob_from1_2_uci_3y_rp timevar01, sort connect(stairst
&gt; ep stairstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from1_2_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod_12_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from Admission to Readmission (RP)&quot;)  /// 
&gt;  graphregion(col(white))  saving(diff_mod12_3y_rp_22_corr.gph, replace) 
(file diff_mod12_3y_rp_22_corr.gph saved)

.  graph save &quot;diff_mod12_3y_rp_22_corr.gph&quot;, replace
(file diff_mod12_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="DIFF1_2_rp_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from2_3_lci_3y_rp fdiff_prob_from2_3_uci_3y_rp timevar01, sort connect(stairst
&gt; ep stairstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from2_3_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod_23_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from Readmission to 2nd Readmission (RP)&quot;)  /// 
&gt;  graphregion(col(white))  saving(diff_mod23_3y_rp_22_corr.gph, replace) 
(file diff_mod23_3y_rp_22_corr.gph saved)

.  graph save &quot;diff_mod23_3y_rp_22_corr.gph&quot;, replace
(file diff_mod23_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="DIFF2_3_rp_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from3_4_lci_3y_rp fdiff_prob_from3_4_uci_3y_rp timevar01, sort connect(stairst
&gt; ep stairstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from3_4_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod_34_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from 2nd Readmission to 3rd Readmission (RP)&quot;)  /// 
&gt;  graphregion(col(white))  saving(diff_mod34_3y_rp_22_corr.gph, replace) 
(file diff_mod34_3y_rp_22_corr.gph saved)

.  graph save &quot;diff_mod34_3y_rp_22_corr.gph&quot;, replace
(file diff_mod34_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="DIFF3_4_rp_3y_jun_22_corr.svg" width="800" ></p>
<pre><code>. tw      (rarea fdiff_prob_from4_5_lci_3y_rp fdiff_prob_from4_5_uci_3y_rp timevar01, sort connect(stairst
&gt; ep stairstep) lcolor(gs8) color(gs8%65)) ///
&gt;         (line fdiff_prob_from4_5_3y_rp timevar01, sort connect(stairstep stairstep) lcolor(black)), ///
&gt;         yline(0, lcolor(navy)) ///
&gt;  xtitle(Time (years)) ytitle(Difference in Probabilities) xlab(0(.3)5,labsize(small)) ylab(-.25(.05).25,
&gt;  /// *730
&gt;  angle(h) format(%4.2f)) legend(order(1 &quot;CI95%&quot; 2 &quot;Difference&quot;) pos(11) ring(0) c(1)) ///
&gt;  title(&quot;Difference in Probabilities at 3 years&quot;) name(diff_mod_45_3y_rp_22, replace) ///
&gt;  subtitle(&quot;from 3rd Readmission to 4th Readmission (RP)&quot;)  /// 
&gt;  graphregion(col(white)) /*saving(diff_mod45_3y_rp_22_corr.gph, replace asis)*/

.  graph save &quot;diff_mod45_3y_rp_22_corr.gph&quot;, replace
(file diff_mod45_3y_rp_22_corr.gph saved)

</code></pre>
<p><img src="DIFF4_5_rp_3y_jun_22_corr.svg" width="800" ></p>
<h1><a href="#">=============================================================================</a></h1>
<p>Ended at (not saved)= 10:43:58 17 Sep 2022</p>
