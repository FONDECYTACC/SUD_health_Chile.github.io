<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<head>
  <link rel="stylesheet" type="text/css" href="stmarkdown.css">
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>
</head>
<h1><a href="#database-step-1" id="database-step-1">Database (step 1)</a></h1>
<p>Date created: 01:32:38 30 Oct 2022.</p>
<p>Install commands that are unavailable or out of date.</p>
<pre><code>. *&lt;&lt; dd_do : noout &gt; &gt;
. clear all

. *https://onlinelibrary.wiley.com/doi/epdf/10.1002/sim.8894
. *https://pclambert.net/pdf/Stata_Nordic2019_Lambert.pdf
. *https://slidetodoc.com/automated-reports-using-stata-chuck-huber-ph-d/
. *~Mi unidad\Alvacast\SISTRAT 2019 (github)\_supp_mstates\stata\12874_2020_1192_MOESM1_ESM.docx
. *https://opr.princeton.edu/workshops/Downloads/2015May_StataGraphicsKoffman.pdf
. *http://www.bruunisejs.dk/StataHacks/My%20commands/matprint/matprint_demo/
. *https://pure.au.dk/portal/files/140882936/ScientificWorkInStataGoneEasy.pdf
. *https://www.stata.com/meeting/nordic-and-baltic18/slides/nordic-and-baltic18_Bruun.pdf
. *https://github.com/dvorakt/TIER_exercises/blob/master/dyndoc_debt_growth/debt%20and%20growth%20stata%20dyndoc.do
. 
. cap noi which predictms
C:\Users\CISS Fondecyt\ado\plus\p\predictms.ado
*! version 4.4.0 22dec2021 MJC

. if _rc==111 {
.         cap noi ssc install multistate
.         }

. cap noi which merlin
C:\Users\CISS Fondecyt\ado\plus\m\merlin.ado
*! version 2.1.5 18mar2022 MJC

. if _rc==111 {
.         cap noi ssc install merlin
.         }

. cap noi which sumat
C:\Users\CISS Fondecyt\ado\plus\s\sumat.ado
*! Part of package matrixtools v. 0.25
*! Support: Niels Henrik Bruun, niels.henrik.bruun@gmail.com
*! 2021-01-03 toxl added

. if _rc==111 {
.         cap noi scc install matrixtools
.         }

. cap noi which estwrite
C:\Users\CISS Fondecyt\ado\plus\e\estwrite.ado
*! version 1.2.4 04sep2009
*! version 1.0.1 15may2007 (renamed from -eststo- to -estwrite-; -append- added)
*! version 1.0.0 29apr2005 Ben Jann (ETH Zurich)

. if _rc==111 {
.         cap noi ssc install estwrite
.         }

. cap noi which winsor2
C:\Users\CISS Fondecyt\ado\plus\w\winsor2.ado
*! Inspirit of -winsor-(NJ Cox) and -winsorizeJ-(J Caskey)
*! Lian Yujun, arlionn@163.com, 2013-12-25
*! 1.1 2014.12.16

. if _rc==111 {
.         cap noi ssc install winsor2
.         }       

.         
</code></pre>
<p>We need to obtain the file and the work folder.</p>
<pre><code>. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;/volumes/sdrive/data//&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;/volumes/sdrive/data//&quot;
.         global pathdata &quot;/volumes/sdrive/data//&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata &quot;E:\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata2 &quot;E:/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

.         
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)&quot;
C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)
.         global pathdata &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata2 &quot;C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(username)'&quot;
Location= C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags; Date: 30 Oct 2022, considering an OS Windows for
&gt;  the user: CISS Fondecyt
. }

. else display &quot;This file does not exist&quot;

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\andre\Desktop\_mult_state_ags\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\andre\Desktop\_mult_state_ags&quot;
.         global pathdata &quot;C:\Users\andre\Desktop\_mult_state_ags&quot;
.         global pathdata2 &quot;C:/Users/andre/Desktop/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(username)'&quot;
. }

. else display &quot;This file does not exist&quot;
This file does not exist

. 
. mata : st_numscalar(&quot;OK&quot;, direxists(&quot;C:\Users\CISS Fondecyt\OneDrive\Documentos\&quot;))

. if scalar(OK) == 1 {
.         cap noi cd &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags
.         global pathdata &quot;C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags&quot;
.         global pathdata2 &quot;C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/&quot;
.         di &quot;Location= ${pathdata}; Date: `c(current_date)', considering an OS `c(os)' for the user: `c(username)'&quot;
Location= C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)\_mult_state_ags; Date: 30 Oct 2022, considering an OS Windows for
&gt;  the user: CISS Fondecyt
. }

. else display &quot;This file does not exist&quot;

. 
</code></pre>
<p>Path data= C:\Users\CISS Fondecyt\Mi unidad\Alvacast\SISTRAT 2019 (github)_mult_state_ags;</p>
<p>Timestamp: 30 Oct 2022, considering that is a Windows OS for the username: CISS Fondecyt</p>
<p>First we open the files and drop the variables that would mistakenly amplify the sample, and define labels.</p>
<p>The file is located and named as: C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/five_st_msprep_apr22.dta</p>
<pre><code>. *a) open 
.         use &quot;${pathdata2}five_st_msprep_apr22.dta&quot;, clear       

.         // cap qui noi use &quot;${pathdata2}archivo_multiestado0_jul_22_corr2_3y.dta&quot;, clear
.         
.         *label
.         cap noi label variable Readmission_status &quot;Readmission&quot;

.         cap noi label variable Readmission2_status &quot;Readmission (2nd treatment)&quot;

.         cap noi label variable Readmission3_status &quot;Readmission (3rd treatment)&quot;

.         cap noi label variable Readmission4_status &quot;Readmission (4th treatment)&quot;

.         cap noi label variable Readmission_time &quot;Time to Readmission&quot;

.         cap noi label variable Readmission2_time &quot;Time to Readmission (2nd treatment)&quot;

.         cap noi label variable Readmission3_time &quot;Time to Readmission (3rd treatment)&quot;

.         cap noi label variable Readmission4_time &quot;Time to Readmission (4th treatment)&quot;

.         cap noi label variable tipo_de_plan_res_1 &quot;Type of treatment (Residential), 1st treatment&quot;

.         cap noi label variable tipo_de_plan_res_2 &quot;Type of treatment (Residential), 2nd treatment&quot;

.         cap noi label variable tipo_de_plan_res_3 &quot;Type of treatment (Residential), 3rd treatment&quot;

.         cap noi label variable tipo_de_plan_res_4 &quot;Type of treatment (Residential), 4th treatment&quot;

.         cap noi label variable TD_1  &quot;Therapeutic discharge&quot;

.         cap noi label variable TD_2 &quot;Therapeutic discharge, 2nd treatment&quot;

.         cap noi label variable TD_3 &quot;Therapeutic discharge, 3rd treatment&quot;

.         cap noi label variable TD_4 &quot;Therapeutic discharge, 4th treatment&quot;

</code></pre>
<p>Then we define the transition matrix:</p>
<pre><code>. matrix mat_four_states =        ///
&gt;         (.,1,.,. \                      ///
&gt;         .,.,2,. \                       ///
&gt;         .,.,.,3 \                               ///
&gt;         .,.,.,.)

.         matrix colnames mat_four_states = start Readmission_status Readmission2_status Readmission3_status 

.         matrix rownames mat_four_states  = start Readmission_status Readmission2_status Readmission3_status 

.         matrix coleq mat_four_states  = to to to to 

.         matrix roweq mat_four_states = from from from from 

. 
. *d) consultar la matriz de transición
.         *mat list mat_obs_states
</code></pre>
<p>and transform the database in a long format, according to the specifications and the transition matrix.</p>
<pre><code>. msset, id(id) states(Readmission_status Readmission2_status Readmission3_status) ///
&gt;                 times(Readmission_time Readmission2_time Readmission3_time) transmatrix(mat_four_states)  //* saqué tipo_de_plan_res_1 pa
&gt; ra que no se empiece a subdividir

.                 
. mat mat_obs_states = r(transmatrix)             

. mat freq_trans = r(freqmatrix)   

. mat next_states = r(Nnextstates) 

. 
. *file:///G:/Mi%20unidad/Alvacast/SISTRAT%202019%20(github)/_supp_mstates/stata/crowther2017%20(1).pdf
. gen _time = _stop - _start

. range timevar0 90 1826 180 //added before october 23 
(30,633 missing values generated)

. 
</code></pre>
<p>Calculated models</p>
<pre><code>. * M1[centre]@1              /// random intercept 
&gt; * The key part of the syntax is specifying a normally distributed random effect, which we’ve called M1 (it must start with a capital lett
&gt; er, then a number), with the variable defining the cluster in square brackets [centre], and finally, we tell merlin not to estimate a coe
&gt; fficient, but rather constrain it to be 1. Our model converges nicely, and we observe an estimate of \sigma = 0.897 (95% CI: 0.774, 1.039
&gt; ), showing substantial heterogeneity between centres.
. 
. 
. *A model is now fitted where the assumption of proportional excess hazards is relaxed for all covariates. This is carried out by incorpor
&gt; ating an interaction between each covariate and a restricted cubic spline function of log time with four knots (three degrees of freedom)
&gt; . The knots are placed evenly according to the distribution of log death times. 
. 
. *By default, each level’s random effects are assumed to have covariance(diagonal). We can relax this by estimating a correlation
. *This defines a single normally distribute d random effect, called M1, defined at the id level
. 
. *https://twitter.com/RDAnalyticsAB/status/1480550277111595010/photo/1
. *https://reddooranalytics.se/2022/02/18/flexible-parametric-survival-analysis-with-frailty/
. *https://arxiv.org/pdf/1806.01615.pdf
. 
.         // Exponential
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Exp (intercept-only)}&quot;
 Transition : family Exp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level- coefficient is constrained to be 1
&gt;          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at trial level- coefficient is constrained to be 1
&gt;          ,                                                                      ///
&gt;          family(exponential, failure(_status))), covariance(unstructured) //  distribution &amp; event indicator

Fitting fixed effects model:

Fitting full model:

Iteration 0:   log likelihood = -19973.259  (not concave)
Iteration 1:   log likelihood = -19960.843  
Iteration 2:   log likelihood = -19929.097  (not concave)
Iteration 3:   log likelihood =   -19928.9  
Iteration 4:   log likelihood = -19928.405  
Iteration 5:   log likelihood = -19928.303  
Iteration 6:   log likelihood = -19928.241  
Iteration 7:   log likelihood = -19928.217  
Iteration 8:   log likelihood = -19928.206  
Iteration 9:   log likelihood = -19928.204  
Iteration 10:  log likelihood = -19928.202  
Iteration 11:  log likelihood = -19928.202  
Iteration 12:  log likelihood = -19928.202  (backed up)
Iteration 13:  log likelihood = -19928.202  (backed up)
Iteration 14:  log likelihood = -19928.202  (backed up)
Iteration 15:  log likelihood = -19928.202  (backed up)
Iteration 16:  log likelihood = -19928.202  
Iteration 17:  log likelihood = -19928.202  (backed up)
Iteration 18:  log likelihood = -19928.202  (backed up)
Iteration 19:  log likelihood = -19928.202  (backed up)
Iteration 20:  log likelihood = -19928.202  (backed up)
Iteration 21:  log likelihood = -19928.202  (backed up)
Iteration 22:  log likelihood = -19928.202  (backed up)
Iteration 23:  log likelihood = -19928.202  (backed up)
Iteration 24:  log likelihood = -19928.202  (backed up)
Iteration 25:  log likelihood = -19928.202  (backed up)
Iteration 26:  log likelihood = -19928.202  (backed up)
Iteration 27:  log likelihood = -19928.202  (backed up)
Iteration 28:  log likelihood = -19928.202  (backed up)
Iteration 29:  log likelihood = -19928.202  (backed up)
Iteration 30:  log likelihood = -19928.202  (backed up)
Iteration 31:  log likelihood = -19928.202  (backed up)
Iteration 32:  log likelihood = -19928.202  (backed up)
Iteration 33:  log likelihood = -19928.202  (backed up)
Iteration 34:  log likelihood = -19928.202  (backed up)
Iteration 35:  log likelihood = -19928.202  (backed up)
Iteration 36:  log likelihood = -19928.202  (backed up)
Iteration 37:  log likelihood = -19928.202  (backed up)
Iteration 38:  log likelihood = -19928.202  (backed up)
Iteration 39:  log likelihood = -19928.202  (backed up)
Iteration 40:  log likelihood = -19928.202  (backed up)
Iteration 41:  log likelihood = -19928.202  (backed up)
Iteration 42:  log likelihood = -19928.202  (backed up)
Iteration 43:  log likelihood = -19928.202  (backed up)
Iteration 44:  log likelihood = -19928.202  (backed up)
Iteration 45:  log likelihood = -19928.202  (backed up)
Iteration 46:  log likelihood = -19928.202  (backed up)
Iteration 47:  log likelihood = -19928.202  (backed up)
Iteration 48:  log likelihood = -19928.202  (backed up)
Iteration 49:  log likelihood = -19928.202  (backed up)
Iteration 50:  log likelihood = -19928.202  (backed up)
Iteration 51:  log likelihood = -19928.202  (backed up)
Iteration 52:  log likelihood = -19928.202  (backed up)
Iteration 53:  log likelihood = -19928.202  (backed up)
Iteration 54:  log likelihood = -19928.202  (backed up)
Iteration 55:  log likelihood = -19928.202  (backed up)
Iteration 56:  log likelihood = -19928.202  (backed up)
Iteration 57:  log likelihood = -19928.202  (backed up)
Iteration 58:  log likelihood = -19928.202  (backed up)
Iteration 59:  log likelihood = -19928.202  (backed up)
Iteration 60:  log likelihood = -19928.202  (backed up)
Iteration 61:  log likelihood = -19928.202  (backed up)
Iteration 62:  log likelihood = -19928.202  (backed up)
Iteration 63:  log likelihood = -19928.202  (backed up)
Iteration 64:  log likelihood = -19928.202  (backed up)
Iteration 65:  log likelihood = -19928.202  (backed up)
Iteration 66:  log likelihood = -19928.202  (backed up)
Iteration 67:  log likelihood = -19928.202  (backed up)
Iteration 68:  log likelihood = -19928.202  (backed up)
Iteration 69:  log likelihood = -19928.202  (backed up)
Iteration 70:  log likelihood = -19928.202  (backed up)
Iteration 71:  log likelihood = -19928.202  (backed up)
Iteration 72:  log likelihood = -19928.202  (backed up)
Iteration 73:  log likelihood = -19928.202  (backed up)
Iteration 74:  log likelihood = -19928.202  (backed up)
Iteration 75:  log likelihood = -19928.202  (backed up)
Iteration 76:  log likelihood = -19928.202  (backed up)
Iteration 77:  log likelihood = -19928.202  (backed up)
Iteration 78:  log likelihood = -19928.202  (backed up)
Iteration 79:  log likelihood = -19928.202  (backed up)
Iteration 80:  log likelihood = -19928.202  (backed up)
Iteration 81:  log likelihood = -19928.202  (backed up)
Iteration 82:  log likelihood = -19928.202  (backed up)
Iteration 83:  log likelihood = -19928.202  (backed up)
Iteration 84:  log likelihood = -19928.202  (backed up)
Iteration 85:  log likelihood = -19928.202  (backed up)
Iteration 86:  log likelihood = -19928.202  (backed up)
Iteration 87:  log likelihood = -19928.202  (backed up)
Iteration 88:  log likelihood = -19928.202  (backed up)
Iteration 89:  log likelihood = -19928.202  (backed up)
Iteration 90:  log likelihood = -19928.202  (backed up)
Iteration 91:  log likelihood = -19928.202  (backed up)
Iteration 92:  log likelihood = -19928.202  (backed up)
Iteration 93:  log likelihood = -19928.202  (backed up)
Iteration 94:  log likelihood = -19928.202  (backed up)
Iteration 95:  log likelihood = -19928.202  (backed up)
Iteration 96:  log likelihood = -19928.202  (backed up)
Iteration 97:  log likelihood = -19928.202  (backed up)
Iteration 98:  log likelihood = -19928.202  (backed up)
Iteration 99:  log likelihood = -19928.202  (backed up)
Iteration 100: log likelihood = -19928.202  (backed up)
Iteration 101: log likelihood = -19928.202  (backed up)
Iteration 102: log likelihood = -19928.202  (backed up)
Iteration 103: log likelihood = -19928.202  (backed up)
Iteration 104: log likelihood = -19928.202  (backed up)
Iteration 105: log likelihood = -19928.202  (backed up)
Iteration 106: log likelihood = -19928.202  (backed up)
Iteration 107: log likelihood = -19928.202  (backed up)
Iteration 108: log likelihood = -19928.202  (backed up)
Iteration 109: log likelihood = -19928.202  (backed up)
Iteration 110: log likelihood = -19928.202  (backed up)
Iteration 111: log likelihood = -19928.202  (backed up)
Iteration 112: log likelihood = -19928.202  (backed up)
Iteration 113: log likelihood = -19928.202  (backed up)
Iteration 114: log likelihood = -19928.202  (backed up)
Iteration 115: log likelihood = -19928.202  (backed up)
Iteration 116: log likelihood = -19928.202  (backed up)
Iteration 117: log likelihood = -19928.202  (backed up)
Iteration 118: log likelihood = -19928.202  (backed up)
Iteration 119: log likelihood = -19928.202  (backed up)
Iteration 120: log likelihood = -19928.202  (backed up)
Iteration 121: log likelihood = -19928.202  (backed up)
Iteration 122: log likelihood = -19928.202  (backed up)
Iteration 123: log likelihood = -19928.202  (backed up)
Iteration 124: log likelihood = -19928.202  (backed up)
Iteration 125: log likelihood = -19928.202  (backed up)
Iteration 126: log likelihood = -19928.202  (backed up)
Iteration 127: log likelihood = -19928.202  (backed up)
Iteration 128: log likelihood = -19928.202  (backed up)
Iteration 129: log likelihood = -19928.202  (backed up)
Iteration 130: log likelihood = -19928.202  (backed up)
Iteration 131: log likelihood = -19928.202  (backed up)
Iteration 132: log likelihood = -19928.202  (backed up)
Iteration 133: log likelihood = -19928.202  (backed up)
Iteration 134: log likelihood = -19928.202  (backed up)
Iteration 135: log likelihood = -19928.202  (backed up)
Iteration 136: log likelihood = -19928.202  (backed up)
Iteration 137: log likelihood = -19928.202  (backed up)
Iteration 138: log likelihood = -19928.202  (backed up)
Iteration 139: log likelihood = -19928.202  (backed up)
Iteration 140: log likelihood = -19928.202  (backed up)
Iteration 141: log likelihood = -19928.202  (backed up)
Iteration 142: log likelihood = -19928.202  (backed up)
Iteration 143: log likelihood = -19928.202  (backed up)
Iteration 144: log likelihood = -19928.202  (backed up)
Iteration 145: log likelihood = -19928.202  (backed up)
Iteration 146: log likelihood = -19928.202  (backed up)
Iteration 147: log likelihood = -19928.202  (backed up)
Iteration 148: log likelihood = -19928.202  (backed up)
Iteration 149: log likelihood = -19928.202  (backed up)
Iteration 150: log likelihood = -19928.202  (backed up)
Iteration 151: log likelihood = -19928.202  (backed up)
Iteration 152: log likelihood = -19928.202  (backed up)
Iteration 153: log likelihood = -19928.202  (backed up)
Iteration 154: log likelihood = -19928.202  (backed up)
Iteration 155: log likelihood = -19928.202  (backed up)
Iteration 156: log likelihood = -19928.202  (backed up)
Iteration 157: log likelihood = -19928.202  (backed up)
Iteration 158: log likelihood = -19928.202  (backed up)
Iteration 159: log likelihood = -19928.202  (backed up)
Iteration 160: log likelihood = -19928.202  (backed up)
Iteration 161: log likelihood = -19928.202  (backed up)
Iteration 162: log likelihood = -19928.202  (backed up)
Iteration 163: log likelihood = -19928.202  (backed up)
Iteration 164: log likelihood = -19928.202  (backed up)
Iteration 165: log likelihood = -19928.202  (backed up)
Iteration 166: log likelihood = -19928.202  (backed up)
Iteration 167: log likelihood = -19928.202  (backed up)
Iteration 168: log likelihood = -19928.202  (backed up)
Iteration 169: log likelihood = -19928.202  (backed up)
Iteration 170: log likelihood = -19928.202  (backed up)
Iteration 171: log likelihood = -19928.202  (backed up)
Iteration 172: log likelihood = -19928.202  (backed up)
Iteration 173: log likelihood = -19928.202  (backed up)
Iteration 174: log likelihood = -19928.202  (backed up)
Iteration 175: log likelihood = -19928.202  (backed up)
Iteration 176: log likelihood = -19928.202  (backed up)
Iteration 177: log likelihood = -19928.202  (backed up)
Iteration 178: log likelihood = -19928.202  (backed up)
Iteration 179: log likelihood = -19928.202  (backed up)
Iteration 180: log likelihood = -19928.202  (backed up)
Iteration 181: log likelihood = -19928.202  (backed up)
Iteration 182: log likelihood = -19928.202  (backed up)
Iteration 183: log likelihood = -19928.202  (backed up)
Iteration 184: log likelihood = -19928.202  (backed up)
Iteration 185: log likelihood = -19928.202  (backed up)
Iteration 186: log likelihood = -19928.202  (backed up)
Iteration 187: log likelihood = -19928.202  (backed up)
Iteration 188: log likelihood = -19928.202  (backed up)
Iteration 189: log likelihood = -19928.202  (backed up)
Iteration 190: log likelihood = -19928.202  (backed up)
Iteration 191: log likelihood = -19928.202  (backed up)
Iteration 192: log likelihood = -19928.202  (backed up)
Iteration 193: log likelihood = -19928.202  (backed up)
Iteration 194: log likelihood = -19928.202  (backed up)
Iteration 195: log likelihood = -19928.202  (backed up)
Iteration 196: log likelihood = -19928.202  (backed up)
Iteration 197: log likelihood = -19928.202  (backed up)
Iteration 198: log likelihood = -19928.202  (backed up)
Iteration 199: log likelihood = -19928.202  (backed up)
Iteration 200: log likelihood = -19928.202  (backed up)
Iteration 201: log likelihood = -19928.202  (backed up)
Iteration 202: log likelihood = -19928.202  (backed up)
Iteration 203: log likelihood = -19928.202  (backed up)
Iteration 204: log likelihood = -19928.202  (backed up)
Iteration 205: log likelihood = -19928.202  (backed up)
Iteration 206: log likelihood = -19928.202  (backed up)
Iteration 207: log likelihood = -19928.202  (backed up)
Iteration 208: log likelihood = -19928.202  (backed up)
Iteration 209: log likelihood = -19928.202  (backed up)
Iteration 210: log likelihood = -19928.202  (backed up)
Iteration 211: log likelihood = -19928.202  (backed up)
Iteration 212: log likelihood = -19928.202  (backed up)
Iteration 213: log likelihood = -19928.202  (backed up)
Iteration 214: log likelihood = -19928.202  (backed up)
Iteration 215: log likelihood = -19928.202  (backed up)
Iteration 216: log likelihood = -19928.202  (backed up)
Iteration 217: log likelihood = -19928.202  (backed up)
Iteration 218: log likelihood = -19928.202  (backed up)
Iteration 219: log likelihood = -19928.202  (backed up)
Iteration 220: log likelihood = -19928.202  (backed up)
Iteration 221: log likelihood = -19928.202  (backed up)
Iteration 222: log likelihood = -19928.202  (backed up)
Iteration 223: log likelihood = -19928.202  (backed up)
Iteration 224: log likelihood = -19928.202  (backed up)
Iteration 225: log likelihood = -19928.202  (backed up)
Iteration 226: log likelihood = -19928.202  (backed up)
Iteration 227: log likelihood = -19928.202  (backed up)
Iteration 228: log likelihood = -19928.202  (backed up)
Iteration 229: log likelihood = -19928.202  (backed up)
Iteration 230: log likelihood = -19928.202  (backed up)
Iteration 231: log likelihood = -19928.202  (backed up)
Iteration 232: log likelihood = -19928.202  (backed up)
Iteration 233: log likelihood = -19928.202  (backed up)
Iteration 234: log likelihood = -19928.202  (backed up)
Iteration 235: log likelihood = -19928.202  (backed up)
Iteration 236: log likelihood = -19928.202  (backed up)
Iteration 237: log likelihood = -19928.202  (backed up)
Iteration 238: log likelihood = -19928.202  (backed up)
Iteration 239: log likelihood = -19928.202  (backed up)
Iteration 240: log likelihood = -19928.202  (backed up)
Iteration 241: log likelihood = -19928.202  (backed up)
Iteration 242: log likelihood = -19928.202  (backed up)
Iteration 243: log likelihood = -19928.202  (backed up)
Iteration 244: log likelihood = -19928.202  
Iteration 245: log likelihood = -19928.202  (backed up)
Iteration 246: log likelihood = -19928.202  (backed up)
Iteration 247: log likelihood = -19928.202  (backed up)
Iteration 248: log likelihood = -19928.202  (backed up)
Iteration 249: log likelihood = -19928.202  (backed up)
Iteration 250: log likelihood = -19928.202  (backed up)
Iteration 251: log likelihood = -19928.202  (backed up)
Iteration 252: log likelihood = -19928.202  (backed up)
Iteration 253: log likelihood = -19928.202  (backed up)
Iteration 254: log likelihood = -19928.202  (backed up)
Iteration 255: log likelihood = -19928.202  (backed up)
Iteration 256: log likelihood = -19928.202  (backed up)
Iteration 257: log likelihood = -19928.202  (backed up)
Iteration 258: log likelihood = -19928.202  
Iteration 259: log likelihood = -19928.202  (backed up)
Iteration 260: log likelihood = -19928.202  (backed up)
Iteration 261: log likelihood = -19928.202  (backed up)
Iteration 262: log likelihood = -19928.202  (backed up)
Iteration 263: log likelihood = -19928.202  (backed up)
Iteration 264: log likelihood = -19928.202  (backed up)
Iteration 265: log likelihood = -19928.202  (backed up)
Iteration 266: log likelihood = -19928.202  
Iteration 267: log likelihood = -19928.202  (backed up)
Iteration 268: log likelihood = -19928.202  (backed up)
Iteration 269: log likelihood = -19928.202  (backed up)
Iteration 270: log likelihood = -19928.202  (backed up)
Iteration 271: log likelihood = -19928.202  (backed up)
Iteration 272: log likelihood = -19928.202  (backed up)
Iteration 273: log likelihood = -19928.202  (backed up)
Iteration 274: log likelihood = -19928.202  (backed up)
Iteration 275: log likelihood = -19928.202  (backed up)
Iteration 276: log likelihood = -19928.202  (backed up)
Iteration 277: log likelihood = -19928.202  (backed up)
Iteration 278: log likelihood = -19928.202  (backed up)
Iteration 279: log likelihood = -19928.202  (backed up)
Iteration 280: log likelihood = -19928.202  (backed up)
Iteration 281: log likelihood = -19928.202  (backed up)
Iteration 282: log likelihood = -19928.202  (backed up)
Iteration 283: log likelihood = -19928.202  (backed up)
Iteration 284: log likelihood = -19928.202  (backed up)
Iteration 285: log likelihood = -19928.202  (backed up)
Iteration 286: log likelihood = -19928.202  (backed up)
Iteration 287: log likelihood = -19928.202  (backed up)
Iteration 288: log likelihood = -19928.202  (backed up)
Iteration 289: log likelihood = -19928.202  (backed up)
Iteration 290: log likelihood = -19928.202  (backed up)
Iteration 291: log likelihood = -19928.202  (backed up)
Iteration 292: log likelihood = -19928.202  (backed up)
Iteration 293: log likelihood = -19928.202  (backed up)
Iteration 294: log likelihood = -19928.202  (backed up)
Iteration 295: log likelihood = -19928.202  (backed up)
Iteration 296: log likelihood = -19928.202  (backed up)
Iteration 297: log likelihood = -19928.202  (backed up)
Iteration 298: log likelihood = -19928.202  (backed up)
Iteration 299: log likelihood = -19928.202  (backed up)
Iteration 300: log likelihood = -19928.202  (backed up)
convergence not achieved

Mixed effects regression model                  Number of obs     =      7,321
Log likelihood = -19928.202
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |   .4878771   .0578464     8.43   0.000     .3745002    .6012541
M1[group_m~] |          1          .        .       .            .           .
M2[group_m~] |          1          .        .       .            .           .
       _cons |  -9.225295   .0580308  -158.97   0.000    -9.339033   -9.111557
-------------+----------------------------------------------------------------
group_match: |            
      sd(M1) |   .0016955   .0016627                       .000248    .0115893
-------------+----------------------------------------------------------------
id:          |            
      sd(M2) |   .8291259   .0418731                       .750987    .9153949
------------------------------------------------------------------------------

.                  *timevar(timevar0)) //timevar window of follow-up *timevar() not currently supported with family(ggamma)
.         estimates store m3_exp1

.         // Weibull
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Wei (intercept-only)}&quot;
 Transition : family Wei (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(weibull, failure(_status))), covariance(unstructured) //  distribution &amp; event indicator

Fitting fixed effects model:

Fitting full model:

Iteration 0:   log likelihood = -19972.344  
Iteration 1:   log likelihood = -19972.344  (not concave)
Iteration 2:   log likelihood = -19962.379  
Iteration 3:   log likelihood = -19930.248  
Iteration 4:   log likelihood =  -19926.93  
Iteration 5:   log likelihood = -19926.763  
Iteration 6:   log likelihood = -19926.665  
Iteration 7:   log likelihood = -19926.624  
Iteration 8:   log likelihood = -19926.612  
Iteration 9:   log likelihood = -19926.599  
Iteration 10:  log likelihood = -19926.599  (backed up)
Iteration 11:  log likelihood = -19926.599  (backed up)
Iteration 12:  log likelihood = -19926.599  (backed up)
Iteration 13:  log likelihood = -19926.599  (backed up)
Iteration 14:  log likelihood = -19926.599  (backed up)
Iteration 15:  log likelihood = -19926.599  (backed up)
Iteration 16:  log likelihood = -19926.599  (backed up)
Iteration 17:  log likelihood = -19926.599  (backed up)
Iteration 18:  log likelihood = -19926.599  (backed up)
Iteration 19:  log likelihood = -19926.599  (backed up)
Iteration 20:  log likelihood = -19926.599  (backed up)
Iteration 21:  log likelihood = -19926.599  (backed up)
Iteration 22:  log likelihood = -19926.599  (backed up)
Iteration 23:  log likelihood = -19926.599  (backed up)
Iteration 24:  log likelihood = -19926.599  (backed up)
Iteration 25:  log likelihood = -19926.599  (backed up)
Iteration 26:  log likelihood = -19926.599  (backed up)
Iteration 27:  log likelihood = -19926.599  (backed up)
Iteration 28:  log likelihood = -19926.599  (backed up)
Iteration 29:  log likelihood = -19926.599  (backed up)
Iteration 30:  log likelihood = -19926.599  (backed up)
Iteration 31:  log likelihood = -19926.599  (backed up)
Iteration 32:  log likelihood = -19926.599  (backed up)
Iteration 33:  log likelihood = -19926.599  (backed up)
Iteration 34:  log likelihood = -19926.599  (backed up)
Iteration 35:  log likelihood = -19926.599  (backed up)
Iteration 36:  log likelihood = -19926.599  (backed up)
Iteration 37:  log likelihood = -19926.599  (backed up)
Iteration 38:  log likelihood = -19926.599  (backed up)
Iteration 39:  log likelihood = -19926.599  (backed up)
Iteration 40:  log likelihood = -19926.599  (backed up)
Iteration 41:  log likelihood = -19926.599  (backed up)
Iteration 42:  log likelihood = -19926.599  (backed up)
Iteration 43:  log likelihood = -19926.599  (backed up)
Iteration 44:  log likelihood = -19926.599  (backed up)
Iteration 45:  log likelihood = -19926.599  (backed up)
Iteration 46:  log likelihood = -19926.599  (backed up)
Iteration 47:  log likelihood = -19926.599  (backed up)
Iteration 48:  log likelihood = -19926.599  (backed up)
Iteration 49:  log likelihood = -19926.599  (backed up)
Iteration 50:  log likelihood = -19926.599  (backed up)
Iteration 51:  log likelihood = -19926.599  (backed up)
Iteration 52:  log likelihood = -19926.599  (backed up)
Iteration 53:  log likelihood = -19926.599  (backed up)
Iteration 54:  log likelihood = -19926.599  (backed up)
Iteration 55:  log likelihood = -19926.599  (backed up)
Iteration 56:  log likelihood = -19926.599  (backed up)
Iteration 57:  log likelihood = -19926.599  (backed up)
Iteration 58:  log likelihood = -19926.599  (backed up)
Iteration 59:  log likelihood = -19926.599  (backed up)
Iteration 60:  log likelihood = -19926.599  (backed up)
Iteration 61:  log likelihood = -19926.599  (backed up)
Iteration 62:  log likelihood = -19926.599  (backed up)
Iteration 63:  log likelihood = -19926.599  (backed up)
Iteration 64:  log likelihood = -19926.599  (backed up)
Iteration 65:  log likelihood = -19926.599  (backed up)
Iteration 66:  log likelihood = -19926.599  (backed up)
Iteration 67:  log likelihood = -19926.599  (backed up)
Iteration 68:  log likelihood = -19926.599  (backed up)
Iteration 69:  log likelihood = -19926.599  (backed up)
Iteration 70:  log likelihood = -19926.599  (backed up)
Iteration 71:  log likelihood = -19926.599  (backed up)
Iteration 72:  log likelihood = -19926.599  (backed up)
Iteration 73:  log likelihood = -19926.599  (backed up)
Iteration 74:  log likelihood = -19926.599  (backed up)
Iteration 75:  log likelihood = -19926.599  (backed up)
Iteration 76:  log likelihood = -19926.599  (backed up)
Iteration 77:  log likelihood = -19926.599  (backed up)
Iteration 78:  log likelihood = -19926.599  (backed up)
Iteration 79:  log likelihood = -19926.599  (backed up)
Iteration 80:  log likelihood = -19926.599  (backed up)
Iteration 81:  log likelihood = -19926.599  (backed up)
Iteration 82:  log likelihood = -19926.599  (backed up)
Iteration 83:  log likelihood = -19926.599  (backed up)
Iteration 84:  log likelihood = -19926.599  (backed up)
Iteration 85:  log likelihood = -19926.599  (backed up)
Iteration 86:  log likelihood = -19926.599  (backed up)
Iteration 87:  log likelihood = -19926.599  (backed up)
Iteration 88:  log likelihood = -19926.599  (backed up)
Iteration 89:  log likelihood = -19926.599  (backed up)
Iteration 90:  log likelihood = -19926.599  (backed up)
Iteration 91:  log likelihood = -19926.599  (backed up)
Iteration 92:  log likelihood = -19926.599  (backed up)
Iteration 93:  log likelihood = -19926.599  (backed up)
Iteration 94:  log likelihood = -19926.599  (backed up)
Iteration 95:  log likelihood = -19926.599  (backed up)
Iteration 96:  log likelihood = -19926.599  (backed up)
Iteration 97:  log likelihood = -19926.599  (backed up)
Iteration 98:  log likelihood = -19926.599  (backed up)
Iteration 99:  log likelihood = -19926.599  (backed up)
Iteration 100: log likelihood = -19926.599  (backed up)
Iteration 101: log likelihood = -19926.599  (backed up)
Iteration 102: log likelihood = -19926.599  (backed up)
Iteration 103: log likelihood = -19926.599  (backed up)
Iteration 104: log likelihood = -19926.599  (backed up)
Iteration 105: log likelihood = -19926.599  (backed up)
Iteration 106: log likelihood = -19926.599  (backed up)
Iteration 107: log likelihood = -19926.599  (backed up)
Iteration 108: log likelihood = -19926.599  (backed up)
Iteration 109: log likelihood = -19926.599  (backed up)
Iteration 110: log likelihood = -19926.599  (backed up)
Iteration 111: log likelihood = -19926.599  (backed up)
Iteration 112: log likelihood = -19926.599  (backed up)
Iteration 113: log likelihood = -19926.599  (backed up)
Iteration 114: log likelihood = -19926.599  (backed up)
Iteration 115: log likelihood = -19926.599  (backed up)
Iteration 116: log likelihood = -19926.599  (backed up)
Iteration 117: log likelihood = -19926.599  (backed up)
Iteration 118: log likelihood = -19926.599  (backed up)
Iteration 119: log likelihood = -19926.599  (backed up)
Iteration 120: log likelihood = -19926.599  (backed up)
Iteration 121: log likelihood = -19926.599  (backed up)
Iteration 122: log likelihood = -19926.599  (backed up)
Iteration 123: log likelihood = -19926.599  (backed up)
Iteration 124: log likelihood = -19926.599  (backed up)
Iteration 125: log likelihood = -19926.599  (backed up)
Iteration 126: log likelihood = -19926.599  (backed up)
Iteration 127: log likelihood = -19926.599  (backed up)
Iteration 128: log likelihood = -19926.599  (backed up)
Iteration 129: log likelihood = -19926.599  (backed up)
Iteration 130: log likelihood = -19926.599  (backed up)
Iteration 131: log likelihood = -19926.599  (backed up)
Iteration 132: log likelihood = -19926.599  
Iteration 133: log likelihood = -19926.599  (backed up)
Iteration 134: log likelihood = -19926.599  (backed up)
Iteration 135: log likelihood = -19926.599  (backed up)
Iteration 136: log likelihood = -19926.599  (backed up)
Iteration 137: log likelihood = -19926.599  (backed up)
Iteration 138: log likelihood = -19926.599  (backed up)
Iteration 139: log likelihood = -19926.599  (backed up)
Iteration 140: log likelihood = -19926.599  (backed up)
Iteration 141: log likelihood = -19926.599  (backed up)
Iteration 142: log likelihood = -19926.599  (backed up)
Iteration 143: log likelihood = -19926.599  (backed up)
Iteration 144: log likelihood = -19926.599  (backed up)
Iteration 145: log likelihood = -19926.599  (backed up)
Iteration 146: log likelihood = -19926.599  
Iteration 147: log likelihood = -19926.599  (backed up)
Iteration 148: log likelihood = -19926.599  (backed up)
Iteration 149: log likelihood = -19926.599  (backed up)
Iteration 150: log likelihood = -19926.599  (backed up)
Iteration 151: log likelihood = -19926.599  (backed up)
Iteration 152: log likelihood = -19926.599  (backed up)
Iteration 153: log likelihood = -19926.599  (backed up)
Iteration 154: log likelihood = -19926.599  (backed up)
Iteration 155: log likelihood = -19926.599  (backed up)
Iteration 156: log likelihood = -19926.599  (backed up)
Iteration 157: log likelihood = -19926.599  (backed up)
Iteration 158: log likelihood = -19926.599  (backed up)
Iteration 159: log likelihood = -19926.599  (backed up)
Iteration 160: log likelihood = -19926.599  (backed up)
Iteration 161: log likelihood = -19926.599  (backed up)
Iteration 162: log likelihood = -19926.599  (backed up)
Iteration 163: log likelihood = -19926.599  (backed up)
Iteration 164: log likelihood = -19926.599  (backed up)
Iteration 165: log likelihood = -19926.599  (backed up)
Iteration 166: log likelihood = -19926.599  (backed up)
Iteration 167: log likelihood = -19926.599  (backed up)
Iteration 168: log likelihood = -19926.599  (backed up)
Iteration 169: log likelihood = -19926.599  (backed up)
Iteration 170: log likelihood = -19926.599  (backed up)
Iteration 171: log likelihood = -19926.599  (backed up)
Iteration 172: log likelihood = -19926.599  (backed up)
Iteration 173: log likelihood = -19926.599  (backed up)
Iteration 174: log likelihood = -19926.599  (backed up)
Iteration 175: log likelihood = -19926.599  (backed up)
Iteration 176: log likelihood = -19926.599  (backed up)
Iteration 177: log likelihood = -19926.599  (backed up)
Iteration 178: log likelihood = -19926.599  (backed up)
Iteration 179: log likelihood = -19926.599  (backed up)
Iteration 180: log likelihood = -19926.599  (backed up)
Iteration 181: log likelihood = -19926.599  (backed up)
Iteration 182: log likelihood = -19926.599  (backed up)
Iteration 183: log likelihood = -19926.599  (backed up)
Iteration 184: log likelihood = -19926.599  (backed up)
Iteration 185: log likelihood = -19926.599  (backed up)
Iteration 186: log likelihood = -19926.599  (backed up)
Iteration 187: log likelihood = -19926.599  (backed up)
Iteration 188: log likelihood = -19926.599  (backed up)
Iteration 189: log likelihood = -19926.599  (backed up)
Iteration 190: log likelihood = -19926.599  (backed up)
Iteration 191: log likelihood = -19926.599  (backed up)
Iteration 192: log likelihood = -19926.599  (backed up)
Iteration 193: log likelihood = -19926.599  (backed up)
Iteration 194: log likelihood = -19926.599  (backed up)
Iteration 195: log likelihood = -19926.599  (backed up)
Iteration 196: log likelihood = -19926.599  (backed up)
Iteration 197: log likelihood = -19926.599  (backed up)
Iteration 198: log likelihood = -19926.599  (backed up)
Iteration 199: log likelihood = -19926.599  (backed up)
Iteration 200: log likelihood = -19926.599  (backed up)
Iteration 201: log likelihood = -19926.599  (backed up)
Iteration 202: log likelihood = -19926.599  (backed up)
Iteration 203: log likelihood = -19926.599  (backed up)
Iteration 204: log likelihood = -19926.599  (backed up)
Iteration 205: log likelihood = -19926.599  (backed up)
Iteration 206: log likelihood = -19926.599  (backed up)
Iteration 207: log likelihood = -19926.599  (backed up)
Iteration 208: log likelihood = -19926.599  (backed up)
Iteration 209: log likelihood = -19926.599  (backed up)
Iteration 210: log likelihood = -19926.599  (backed up)
Iteration 211: log likelihood = -19926.599  (backed up)
Iteration 212: log likelihood = -19926.599  (backed up)
Iteration 213: log likelihood = -19926.599  (backed up)
Iteration 214: log likelihood = -19926.599  (backed up)
Iteration 215: log likelihood = -19926.599  (backed up)
Iteration 216: log likelihood = -19926.599  (backed up)
Iteration 217: log likelihood = -19926.599  (backed up)
Iteration 218: log likelihood = -19926.599  (backed up)
Iteration 219: log likelihood = -19926.599  (backed up)
Iteration 220: log likelihood = -19926.599  (backed up)
Iteration 221: log likelihood = -19926.599  (backed up)
Iteration 222: log likelihood = -19926.599  (backed up)
Iteration 223: log likelihood = -19926.599  (backed up)
Iteration 224: log likelihood = -19926.599  (backed up)
Iteration 225: log likelihood = -19926.599  (backed up)
Iteration 226: log likelihood = -19926.599  (backed up)
Iteration 227: log likelihood = -19926.599  (backed up)
Iteration 228: log likelihood = -19926.599  (backed up)
Iteration 229: log likelihood = -19926.599  (backed up)
Iteration 230: log likelihood = -19926.599  (backed up)
Iteration 231: log likelihood = -19926.599  (backed up)
Iteration 232: log likelihood = -19926.599  (backed up)
Iteration 233: log likelihood = -19926.599  (backed up)
Iteration 234: log likelihood = -19926.599  (backed up)
Iteration 235: log likelihood = -19926.599  (backed up)
Iteration 236: log likelihood = -19926.599  (backed up)
Iteration 237: log likelihood = -19926.599  (backed up)
Iteration 238: log likelihood = -19926.599  (backed up)
Iteration 239: log likelihood = -19926.599  (backed up)
Iteration 240: log likelihood = -19926.599  (backed up)
Iteration 241: log likelihood = -19926.599  (backed up)
Iteration 242: log likelihood = -19926.599  (backed up)
Iteration 243: log likelihood = -19926.599  (backed up)
Iteration 244: log likelihood = -19926.599  (backed up)
Iteration 245: log likelihood = -19926.599  (backed up)
Iteration 246: log likelihood = -19926.599  (backed up)
Iteration 247: log likelihood = -19926.599  (backed up)
Iteration 248: log likelihood = -19926.599  (backed up)
Iteration 249: log likelihood = -19926.599  (backed up)
Iteration 250: log likelihood = -19926.599  (backed up)
Iteration 251: log likelihood = -19926.599  (backed up)
Iteration 252: log likelihood = -19926.599  (backed up)
Iteration 253: log likelihood = -19926.599  (backed up)
Iteration 254: log likelihood = -19926.599  (backed up)
Iteration 255: log likelihood = -19926.599  (backed up)
Iteration 256: log likelihood = -19926.599  (backed up)
Iteration 257: log likelihood = -19926.599  (backed up)
Iteration 258: log likelihood = -19926.599  (backed up)
Iteration 259: log likelihood = -19926.599  (backed up)
Iteration 260: log likelihood = -19926.599  (backed up)
Iteration 261: log likelihood = -19926.599  (backed up)
Iteration 262: log likelihood = -19926.599  (backed up)
Iteration 263: log likelihood = -19926.599  (backed up)
Iteration 264: log likelihood = -19926.599  (backed up)
Iteration 265: log likelihood = -19926.599  (backed up)
Iteration 266: log likelihood = -19926.599  (backed up)
Iteration 267: log likelihood = -19926.599  (backed up)
Iteration 268: log likelihood = -19926.599  (backed up)
Iteration 269: log likelihood = -19926.599  (backed up)
Iteration 270: log likelihood = -19926.599  (backed up)
Iteration 271: log likelihood = -19926.599  (backed up)
Iteration 272: log likelihood = -19926.599  (backed up)
Iteration 273: log likelihood = -19926.599  (backed up)
Iteration 274: log likelihood = -19926.599  (backed up)
Iteration 275: log likelihood = -19926.599  (backed up)
Iteration 276: log likelihood = -19926.599  (backed up)
Iteration 277: log likelihood = -19926.599  (backed up)
Iteration 278: log likelihood = -19926.599  (backed up)
Iteration 279: log likelihood = -19926.599  (backed up)
Iteration 280: log likelihood = -19926.599  (backed up)
Iteration 281: log likelihood = -19926.599  (backed up)
Iteration 282: log likelihood = -19926.599  (backed up)
Iteration 283: log likelihood = -19926.599  (backed up)
Iteration 284: log likelihood = -19926.599  (backed up)
Iteration 285: log likelihood = -19926.599  (backed up)
Iteration 286: log likelihood = -19926.599  (backed up)
Iteration 287: log likelihood = -19926.599  (backed up)
Iteration 288: log likelihood = -19926.599  (backed up)
Iteration 289: log likelihood = -19926.599  (backed up)
Iteration 290: log likelihood = -19926.599  (backed up)
Iteration 291: log likelihood = -19926.599  (backed up)
Iteration 292: log likelihood = -19926.599  (backed up)
Iteration 293: log likelihood = -19926.599  (backed up)
Iteration 294: log likelihood = -19926.599  (backed up)
Iteration 295: log likelihood = -19926.599  (backed up)
Iteration 296: log likelihood = -19926.599  (backed up)
Iteration 297: log likelihood = -19926.599  (backed up)
Iteration 298: log likelihood = -19926.599  (backed up)
Iteration 299: log likelihood = -19926.599  (backed up)
Iteration 300: log likelihood = -19926.599  (backed up)
convergence not achieved

Mixed effects regression model                  Number of obs     =      7,321
Log likelihood = -19926.599
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |    .494704   .0590204     8.38   0.000     .3790261    .6103819
M1[group_m~] |          1          .        .       .            .           .
M2[group_m~] |          1          .        .       .            .           .
       _cons |  -9.555052   .2042415   -46.78   0.000    -9.955358   -9.154746
  log(gamma) |   .0390804   .0225455     1.73   0.083    -.0051079    .0832688
-------------+----------------------------------------------------------------
group_match: |            
      sd(M1) |   .0005085    .000125                       .000314    .0008233
-------------+----------------------------------------------------------------
id:          |            
      sd(M2) |   .8724088   .0488088                      .7818037    .9735143
------------------------------------------------------------------------------

. 
.         estimates store m3_weib1

.         // Gompertz
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Gomp (intercept-only)}&quot;
 Transition : family Gomp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(gompertz, failure(_status))), covariance(unstructured)  //  distribution &amp; event indicator

Fitting fixed effects model:

Fitting full model:

Iteration 0:   log likelihood = -4543877.4  (not concave)
Iteration 1:   log likelihood = -4452999.9  (not concave)
Iteration 2:   log likelihood = -4441875.5  (not concave)
cannot compute an improvement -- discontinuous region encountered

.         estimates store m3_gom1
last estimation results not found, nothing to store
r(301);

.         // Log logistic
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logl (intercept-only)}&quot;
 Transition : family Logl (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(loglogistic, failure(_status))), covariance(unstructured)       //  distribution &amp; event indicator

Fitting fixed effects model:

Fitting full model:

Iteration 0:   log likelihood = -19907.783  
Iteration 1:   log likelihood = -19907.756  (not concave)
Iteration 2:   log likelihood = -19903.787  (not concave)
Iteration 3:   log likelihood = -19883.113  
Iteration 4:   log likelihood = -19867.807  
Iteration 5:   log likelihood = -19865.795  
Iteration 6:   log likelihood = -19865.545  
Iteration 7:   log likelihood = -19865.379  
Iteration 8:   log likelihood =  -19865.34  
Iteration 9:   log likelihood = -19865.331  
Iteration 10:  log likelihood = -19865.327  
Iteration 11:  log likelihood = -19865.326  
Iteration 12:  log likelihood = -19865.325  
Iteration 13:  log likelihood = -19865.325  
Iteration 14:  log likelihood = -19865.325  (backed up)
Iteration 15:  log likelihood = -19865.325  (backed up)
Iteration 16:  log likelihood = -19865.325  (backed up)
Iteration 17:  log likelihood = -19865.325  (backed up)
Iteration 18:  log likelihood = -19865.325  (backed up)
Iteration 19:  log likelihood = -19865.325  (backed up)
Iteration 20:  log likelihood = -19865.325  (backed up)
Iteration 21:  log likelihood = -19865.325  (backed up)
Iteration 22:  log likelihood = -19865.325  (backed up)
Iteration 23:  log likelihood = -19865.325  (backed up)
Iteration 24:  log likelihood = -19865.325  (backed up)
Iteration 25:  log likelihood = -19865.325  (backed up)
Iteration 26:  log likelihood = -19865.325  (backed up)
Iteration 27:  log likelihood = -19865.325  (backed up)
Iteration 28:  log likelihood = -19865.325  (backed up)
Iteration 29:  log likelihood = -19865.325  (backed up)
Iteration 30:  log likelihood = -19865.325  (backed up)
Iteration 31:  log likelihood = -19865.325  (backed up)
Iteration 32:  log likelihood = -19865.325  (backed up)
Iteration 33:  log likelihood = -19865.325  (backed up)
Iteration 34:  log likelihood = -19865.325  (backed up)
Iteration 35:  log likelihood = -19865.325  (backed up)
Iteration 36:  log likelihood = -19865.325  (backed up)
Iteration 37:  log likelihood = -19865.325  (backed up)
Iteration 38:  log likelihood = -19865.325  (backed up)
Iteration 39:  log likelihood = -19865.325  (backed up)
Iteration 40:  log likelihood = -19865.325  (backed up)
Iteration 41:  log likelihood = -19865.325  (backed up)
Iteration 42:  log likelihood = -19865.325  (backed up)
Iteration 43:  log likelihood = -19865.325  (backed up)
Iteration 44:  log likelihood = -19865.325  (backed up)
Iteration 45:  log likelihood = -19865.325  (backed up)
Iteration 46:  log likelihood = -19865.325  (backed up)
Iteration 47:  log likelihood = -19865.325  (backed up)
Iteration 48:  log likelihood = -19865.325  (backed up)
Iteration 49:  log likelihood = -19865.325  (backed up)
Iteration 50:  log likelihood = -19865.325  (backed up)
Iteration 51:  log likelihood = -19865.325  (backed up)
Iteration 52:  log likelihood = -19865.325  (backed up)
Iteration 53:  log likelihood = -19865.325  (backed up)
Iteration 54:  log likelihood = -19865.325  (backed up)
Iteration 55:  log likelihood = -19865.325  (backed up)
Iteration 56:  log likelihood = -19865.325  (backed up)
Iteration 57:  log likelihood = -19865.325  (backed up)
Iteration 58:  log likelihood = -19865.325  (backed up)
Iteration 59:  log likelihood = -19865.325  (backed up)
Iteration 60:  log likelihood = -19865.325  (backed up)
Iteration 61:  log likelihood = -19865.325  (backed up)
Iteration 62:  log likelihood = -19865.325  (backed up)
Iteration 63:  log likelihood = -19865.325  (backed up)
Iteration 64:  log likelihood = -19865.325  (backed up)
Iteration 65:  log likelihood = -19865.325  (backed up)
Iteration 66:  log likelihood = -19865.325  (backed up)
Iteration 67:  log likelihood = -19865.325  (backed up)
Iteration 68:  log likelihood = -19865.325  (backed up)
Iteration 69:  log likelihood = -19865.325  (backed up)
Iteration 70:  log likelihood = -19865.325  (backed up)
Iteration 71:  log likelihood = -19865.325  (backed up)
Iteration 72:  log likelihood = -19865.325  (backed up)
Iteration 73:  log likelihood = -19865.325  (backed up)
Iteration 74:  log likelihood = -19865.325  (backed up)
Iteration 75:  log likelihood = -19865.325  (backed up)
Iteration 76:  log likelihood = -19865.325  (backed up)
Iteration 77:  log likelihood = -19865.325  (backed up)
Iteration 78:  log likelihood = -19865.325  (backed up)
Iteration 79:  log likelihood = -19865.325  (backed up)
Iteration 80:  log likelihood = -19865.325  (backed up)
Iteration 81:  log likelihood = -19865.325  (backed up)
Iteration 82:  log likelihood = -19865.325  (backed up)
Iteration 83:  log likelihood = -19865.325  (backed up)
Iteration 84:  log likelihood = -19865.325  (backed up)
Iteration 85:  log likelihood = -19865.325  (backed up)
Iteration 86:  log likelihood = -19865.325  (backed up)
Iteration 87:  log likelihood = -19865.325  (backed up)
Iteration 88:  log likelihood = -19865.325  (backed up)
Iteration 89:  log likelihood = -19865.325  (backed up)
Iteration 90:  log likelihood = -19865.325  (backed up)
Iteration 91:  log likelihood = -19865.325  (backed up)
Iteration 92:  log likelihood = -19865.325  (backed up)
Iteration 93:  log likelihood = -19865.325  (backed up)
Iteration 94:  log likelihood = -19865.325  (backed up)
Iteration 95:  log likelihood = -19865.325  (backed up)
Iteration 96:  log likelihood = -19865.325  (backed up)
Iteration 97:  log likelihood = -19865.325  (backed up)
Iteration 98:  log likelihood = -19865.325  (backed up)
Iteration 99:  log likelihood = -19865.325  (backed up)
Iteration 100: log likelihood = -19865.325  (backed up)
Iteration 101: log likelihood = -19865.325  (backed up)
Iteration 102: log likelihood = -19865.325  (backed up)
Iteration 103: log likelihood = -19865.325  (backed up)
Iteration 104: log likelihood = -19865.325  (backed up)
Iteration 105: log likelihood = -19865.325  (backed up)
Iteration 106: log likelihood = -19865.325  (backed up)
Iteration 107: log likelihood = -19865.325  (backed up)
Iteration 108: log likelihood = -19865.325  (backed up)
Iteration 109: log likelihood = -19865.325  (backed up)
Iteration 110: log likelihood = -19865.325  (backed up)
Iteration 111: log likelihood = -19865.325  (backed up)
Iteration 112: log likelihood = -19865.325  (backed up)
Iteration 113: log likelihood = -19865.325  (backed up)
Iteration 114: log likelihood = -19865.325  (backed up)
Iteration 115: log likelihood = -19865.325  (backed up)
Iteration 116: log likelihood = -19865.325  (backed up)
Iteration 117: log likelihood = -19865.325  (backed up)
Iteration 118: log likelihood = -19865.325  (backed up)
Iteration 119: log likelihood = -19865.325  (backed up)
Iteration 120: log likelihood = -19865.325  (backed up)
Iteration 121: log likelihood = -19865.325  (backed up)
Iteration 122: log likelihood = -19865.325  (backed up)
Iteration 123: log likelihood = -19865.325  (backed up)
Iteration 124: log likelihood = -19865.325  (backed up)
Iteration 125: log likelihood = -19865.325  (backed up)
Iteration 126: log likelihood = -19865.325  (backed up)
Iteration 127: log likelihood = -19865.325  (backed up)
Iteration 128: log likelihood = -19865.325  (backed up)
Iteration 129: log likelihood = -19865.325  (backed up)
Iteration 130: log likelihood = -19865.325  (backed up)
Iteration 131: log likelihood = -19865.325  (backed up)
Iteration 132: log likelihood = -19865.325  (backed up)
Iteration 133: log likelihood = -19865.325  (backed up)
Iteration 134: log likelihood = -19865.325  (backed up)
Iteration 135: log likelihood = -19865.325  (backed up)
Iteration 136: log likelihood = -19865.325  (backed up)
Iteration 137: log likelihood = -19865.325  (backed up)
Iteration 138: log likelihood = -19865.325  (backed up)
Iteration 139: log likelihood = -19865.325  (backed up)
Iteration 140: log likelihood = -19865.325  (backed up)
Iteration 141: log likelihood = -19865.325  (backed up)
Iteration 142: log likelihood = -19865.325  (backed up)
Iteration 143: log likelihood = -19865.325  (backed up)
Iteration 144: log likelihood = -19865.325  (backed up)
Iteration 145: log likelihood = -19865.325  (backed up)
Iteration 146: log likelihood = -19865.325  (backed up)
Iteration 147: log likelihood = -19865.325  (backed up)
Iteration 148: log likelihood = -19865.325  (backed up)
Iteration 149: log likelihood = -19865.325  (backed up)
Iteration 150: log likelihood = -19865.325  (backed up)
Iteration 151: log likelihood = -19865.325  (backed up)
Iteration 152: log likelihood = -19865.325  (backed up)
Iteration 153: log likelihood = -19865.325  (backed up)
Iteration 154: log likelihood = -19865.325  (backed up)
Iteration 155: log likelihood = -19865.325  (backed up)
Iteration 156: log likelihood = -19865.325  (backed up)
Iteration 157: log likelihood = -19865.325  (backed up)
Iteration 158: log likelihood = -19865.325  (backed up)
Iteration 159: log likelihood = -19865.325  (backed up)
Iteration 160: log likelihood = -19865.325  (backed up)
Iteration 161: log likelihood = -19865.325  (backed up)
Iteration 162: log likelihood = -19865.325  (backed up)
Iteration 163: log likelihood = -19865.325  (backed up)
Iteration 164: log likelihood = -19865.325  (backed up)
Iteration 165: log likelihood = -19865.325  (backed up)
Iteration 166: log likelihood = -19865.325  (backed up)
Iteration 167: log likelihood = -19865.325  (backed up)
Iteration 168: log likelihood = -19865.325  (backed up)
Iteration 169: log likelihood = -19865.325  (backed up)
Iteration 170: log likelihood = -19865.325  (backed up)
Iteration 171: log likelihood = -19865.325  (backed up)
Iteration 172: log likelihood = -19865.325  (backed up)
Iteration 173: log likelihood = -19865.325  (backed up)
Iteration 174: log likelihood = -19865.325  (backed up)
Iteration 175: log likelihood = -19865.325  (backed up)
Iteration 176: log likelihood = -19865.325  (backed up)
Iteration 177: log likelihood = -19865.325  (backed up)
Iteration 178: log likelihood = -19865.325  (backed up)
Iteration 179: log likelihood = -19865.325  (backed up)
Iteration 180: log likelihood = -19865.325  (backed up)
Iteration 181: log likelihood = -19865.325  (backed up)
Iteration 182: log likelihood = -19865.325  (backed up)
Iteration 183: log likelihood = -19865.325  (backed up)
Iteration 184: log likelihood = -19865.325  (backed up)
Iteration 185: log likelihood = -19865.325  (backed up)
Iteration 186: log likelihood = -19865.325  (backed up)
Iteration 187: log likelihood = -19865.325  (backed up)
Iteration 188: log likelihood = -19865.325  (backed up)
Iteration 189: log likelihood = -19865.325  (backed up)
Iteration 190: log likelihood = -19865.325  (backed up)
Iteration 191: log likelihood = -19865.325  (backed up)
Iteration 192: log likelihood = -19865.325  (backed up)
Iteration 193: log likelihood = -19865.325  (backed up)
Iteration 194: log likelihood = -19865.325  (backed up)
Iteration 195: log likelihood = -19865.325  (backed up)
Iteration 196: log likelihood = -19865.325  (backed up)
Iteration 197: log likelihood = -19865.325  (backed up)
Iteration 198: log likelihood = -19865.325  (backed up)
Iteration 199: log likelihood = -19865.325  (backed up)
Iteration 200: log likelihood = -19865.325  (backed up)
Iteration 201: log likelihood = -19865.325  (backed up)
Iteration 202: log likelihood = -19865.325  (backed up)
Iteration 203: log likelihood = -19865.325  (backed up)
Iteration 204: log likelihood = -19865.325  (backed up)
Iteration 205: log likelihood = -19865.325  (backed up)
Iteration 206: log likelihood = -19865.325  (backed up)
Iteration 207: log likelihood = -19865.325  (backed up)
Iteration 208: log likelihood = -19865.325  (backed up)
Iteration 209: log likelihood = -19865.325  (backed up)
Iteration 210: log likelihood = -19865.325  (backed up)
Iteration 211: log likelihood = -19865.325  (backed up)
Iteration 212: log likelihood = -19865.325  (backed up)
Iteration 213: log likelihood = -19865.325  (backed up)
Iteration 214: log likelihood = -19865.325  (backed up)
Iteration 215: log likelihood = -19865.325  (backed up)
Iteration 216: log likelihood = -19865.325  (backed up)
Iteration 217: log likelihood = -19865.325  (backed up)
Iteration 218: log likelihood = -19865.325  (backed up)
Iteration 219: log likelihood = -19865.325  (backed up)
Iteration 220: log likelihood = -19865.325  (backed up)
Iteration 221: log likelihood = -19865.325  (backed up)
Iteration 222: log likelihood = -19865.325  (backed up)
Iteration 223: log likelihood = -19865.325  (backed up)
Iteration 224: log likelihood = -19865.325  (backed up)
Iteration 225: log likelihood = -19865.325  (backed up)
Iteration 226: log likelihood = -19865.325  (backed up)
Iteration 227: log likelihood = -19865.325  (backed up)
Iteration 228: log likelihood = -19865.325  (backed up)
Iteration 229: log likelihood = -19865.325  (backed up)
Iteration 230: log likelihood = -19865.325  (backed up)
Iteration 231: log likelihood = -19865.325  (backed up)
Iteration 232: log likelihood = -19865.325  (backed up)
Iteration 233: log likelihood = -19865.325  (backed up)
Iteration 234: log likelihood = -19865.325  (backed up)
Iteration 235: log likelihood = -19865.325  (backed up)
Iteration 236: log likelihood = -19865.325  (backed up)
Iteration 237: log likelihood = -19865.325  (backed up)
Iteration 238: log likelihood = -19865.325  (backed up)
Iteration 239: log likelihood = -19865.325  (backed up)
Iteration 240: log likelihood = -19865.325  (backed up)
Iteration 241: log likelihood = -19865.325  (backed up)
Iteration 242: log likelihood = -19865.325  (backed up)
Iteration 243: log likelihood = -19865.325  (backed up)
Iteration 244: log likelihood = -19865.325  (backed up)
Iteration 245: log likelihood = -19865.325  (backed up)
Iteration 246: log likelihood = -19865.325  (backed up)
Iteration 247: log likelihood = -19865.325  (backed up)
Iteration 248: log likelihood = -19865.325  (backed up)
Iteration 249: log likelihood = -19865.325  (backed up)
Iteration 250: log likelihood = -19865.325  (backed up)
Iteration 251: log likelihood = -19865.325  (backed up)
Iteration 252: log likelihood = -19865.325  (backed up)
Iteration 253: log likelihood = -19865.325  (backed up)
Iteration 254: log likelihood = -19865.325  (backed up)
Iteration 255: log likelihood = -19865.325  (backed up)
Iteration 256: log likelihood = -19865.325  (backed up)
Iteration 257: log likelihood = -19865.325  (backed up)
Iteration 258: log likelihood = -19865.325  (backed up)
Iteration 259: log likelihood = -19865.325  (backed up)
Iteration 260: log likelihood = -19865.325  (backed up)
Iteration 261: log likelihood = -19865.325  (backed up)
Iteration 262: log likelihood = -19865.325  (backed up)
Iteration 263: log likelihood = -19865.325  (backed up)
Iteration 264: log likelihood = -19865.325  (backed up)
Iteration 265: log likelihood = -19865.325  (backed up)
Iteration 266: log likelihood = -19865.325  (backed up)
Iteration 267: log likelihood = -19865.325  (backed up)
Iteration 268: log likelihood = -19865.325  (backed up)
Iteration 269: log likelihood = -19865.325  (backed up)
Iteration 270: log likelihood = -19865.325  (backed up)
Iteration 271: log likelihood = -19865.325  (backed up)
Iteration 272: log likelihood = -19865.325  (backed up)
Iteration 273: log likelihood = -19865.325  (backed up)
Iteration 274: log likelihood = -19865.325  (backed up)
Iteration 275: log likelihood = -19865.325  (backed up)
Iteration 276: log likelihood = -19865.325  (backed up)
Iteration 277: log likelihood = -19865.325  (backed up)
Iteration 278: log likelihood = -19865.325  (backed up)
Iteration 279: log likelihood = -19865.325  (backed up)
Iteration 280: log likelihood = -19865.325  (backed up)
Iteration 281: log likelihood = -19865.325  (backed up)
Iteration 282: log likelihood = -19865.325  (backed up)
Iteration 283: log likelihood = -19865.325  (backed up)
Iteration 284: log likelihood = -19865.325  (backed up)
Iteration 285: log likelihood = -19865.325  (backed up)
Iteration 286: log likelihood = -19865.325  (backed up)
Iteration 287: log likelihood = -19865.325  (backed up)
Iteration 288: log likelihood = -19865.325  (backed up)
Iteration 289: log likelihood = -19865.325  (backed up)
Iteration 290: log likelihood = -19865.325  (backed up)
Iteration 291: log likelihood = -19865.325  (backed up)
Iteration 292: log likelihood = -19865.325  (backed up)
Iteration 293: log likelihood = -19865.325  (backed up)
Iteration 294: log likelihood = -19865.325  (backed up)
Iteration 295: log likelihood = -19865.325  (backed up)
Iteration 296: log likelihood = -19865.325  (backed up)
Iteration 297: log likelihood = -19865.325  (backed up)
Iteration 298: log likelihood = -19865.325  (backed up)
Iteration 299: log likelihood = -19865.325  (backed up)
Iteration 300: log likelihood = -19865.325  (backed up)
convergence not achieved

Mixed effects regression model                  Number of obs     =      7,321
Log likelihood = -19865.325
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |  -.5225428   .0578217    -9.04   0.000    -.6358712   -.4092143
M1[group_m~] |          1          .        .       .            .           .
M2[group_m~] |          1          .        .       .            .           .
       _cons |   8.817386   .0570992   154.42   0.000     8.705473    8.929298
       dap:1 |  -.2021818    .022877    -8.84   0.000    -.2470199   -.1573437
-------------+----------------------------------------------------------------
group_match: |            
      sd(M1) |   .0707585   .6283675                      1.95e-09     2563520
-------------+----------------------------------------------------------------
id:          |            
      sd(M2) |   .8194025   .0706448                      .6920078    .9702499
------------------------------------------------------------------------------

.         estimates store m3_logl1

.         // Log normal
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logn (intercept-only)}&quot;
 Transition : family Logn (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(lognormal, failure(_status))), covariance(unstructured) //  distribution &amp; event indicator

Fitting fixed effects model:
initial values not feasible
initial values not feasible

.         estimates store m3_logn1

.         // Generalised gamma
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Ggam (intercept-only)}&quot;
 Transition : family Ggam (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(ggamma, failure(_status))), covariance(unstructured)    //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m3_ggam1

.         // Royston Parmar models
.         forvalues j=2/10 {
  2.                 set seed 2125
  3.                 di in yellow &quot;{bf: ***********}&quot;
  4.                 di in yellow &quot;{bf: Transition : family RP`j' (intercept-only)}&quot;
  5.                 di in yellow &quot;{bf: ***********}&quot;
  6.                 qui cap noi merlin (_time                               /// recurrent event times
&gt;                          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;                          M1[group_match]@1                                      /// random int. at trial level
&gt;                          M2[group_match&gt;id]@1 if TD_1==1        /// random int. at id level
&gt;                          ,                                                                      ///
&gt;                          family(rp, df(`j') failure(_status))), covariance(unstructured)        //  distribution &amp; event indicator       
&gt;        
  7.                         estimates store m3_rp`j'1
  8.         }       
 ***********
 Transition : family RP2 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_2

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP3 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_3

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP4 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_4

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP5 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_5

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP6 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_6

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP7 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_7

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP8 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_8

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP9 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_9

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP10 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_10

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

. 
.         // Exponential
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Exp (intercept-only)}&quot;
 Transition : family Exp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level- coefficient is constrained to be 1
&gt;          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level- coefficient is constrained to be 1
&gt;          ,                                                                      ///
&gt;          family(exponential, failure(_status))), covariance(unstructured) //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.                  *timevar(timevar0)) //timevar window of follow-up *timevar() not currently supported with family(ggamma)
.         estimates store m3_exp0

.         // Weibull
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Wei (intercept-only)}&quot;
 Transition : family Wei (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(weibull, failure(_status))), covariance(unstructured) //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m3_weib0

.         // Gompertz
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Gomp (intercept-only)}&quot;
 Transition : family Gomp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(gompertz, failure(_status))), covariance(unstructured)  //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m3_gom0

.         // Log logistic
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logl (intercept-only)}&quot;
 Transition : family Logl (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(loglogistic, failure(_status))), covariance(unstructured)       //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m3_logl0

.         // Log normal
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logn (intercept-only)}&quot;
 Transition : family Logn (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(lognormal, failure(_status))), covariance(unstructured) //  distribution &amp; event indicator

Fitting fixed effects model:
initial values not feasible
initial values not feasible

.         estimates store m3_logn0

.         // Generalised gamma
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Ggam (intercept-only)}&quot;
 Transition : family Ggam (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[group_match]@1                                      /// random int. at trial level
&gt;          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level
&gt;          ,                                                                      ///
&gt;          family(ggamma, failure(_status))), covariance(unstructured)    //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m3_ggam0

.         // Royston Parmar models
.         forvalues j=2/10 {
  2.                 set seed 2125
  3.                 di in yellow &quot;{bf: ***********}&quot;
  4.                 di in yellow &quot;{bf: Transition : family RP`j' (intercept-only)}&quot;
  5.                 di in yellow &quot;{bf: ***********}&quot;
  6.                 qui cap noi merlin (_time                               /// recurrent event times
&gt;                          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;                          M1[group_match]@1                                      /// random int. at trial level
&gt;                          M2[group_match&gt;id]@1 if TD_1==0        /// random int. at id level
&gt;                          ,                                                                      ///
&gt;                          family(rp, df(`j') failure(_status))), covariance(unstructured)        //  distribution &amp; event indicator       
&gt;        
  7.                         estimates store m3_rp`j'0
  8.         }               
 ***********
 Transition : family RP2 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_2

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP3 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_3

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP4 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_4

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP5 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_5

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP6 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_6

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP7 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_7

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP8 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_8

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP9 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_9

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP10 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_10

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         
. estwrite _all using &quot;${pathdata2}parmodels_m_oct_22_corr3.sters&quot;, replace
(saving m3_exp1)
(saving m3_weib1)
(saving m3_logl1)
(saving m3_logn1)
(saving m3_ggam1)
(saving m3_rp21)
(saving m3_rp31)
(saving m3_rp41)
(saving m3_rp51)
(saving m3_rp61)
(saving m3_rp71)
(saving m3_rp81)
(saving m3_rp91)
(saving m3_rp101)
(saving m3_exp0)
(saving m3_weib0)
(saving m3_gom0)
(saving m3_logl0)
(saving m3_logn0)
(saving m3_ggam0)
(saving m3_rp20)
(saving m3_rp30)
(saving m3_rp40)
(saving m3_rp50)
(saving m3_rp60)
(saving m3_rp70)
(saving m3_rp80)
(saving m3_rp90)
(saving m3_rp100)
(file C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/parmodels_m_oct_22_corr3.sters saved)

.         
</code></pre>
<pre><code>. *file:///G:/Mi%20unidad/Alvacast/SISTRAT%202019%20(github)/_supp_mstates/stata/1806.01615.pdf
. 
. qui count if _d == 1
_d not found
r(111);

. // we count the amount of cases with the event in the strata
. //we call the estimates stored, and the results...
. estimates stat m3_*, n(`r(N)')

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
     m3_exp1 |      7,321          .   -19928.2       4    39864.4      39892
    m3_weib1 |      7,321          .   -19926.6       5    39863.2   39897.69
    m3_logl1 |      7,321          .  -19865.33       5   39740.65   39775.14
    m3_logn1 |      7,321          .  -19865.33       5   39740.65   39775.14
    m3_ggam1 |      7,321          .  -19814.95       4    39637.9    39665.5
     m3_rp21 |      7,321          .  -19762.32       4   39532.64   39560.24
     m3_rp31 |      7,321          .  -19758.21       5   39526.42   39560.91
     m3_rp41 |      7,321          .  -19754.26       6   39520.51    39561.9
     m3_rp51 |      7,321          .  -19750.98       7   39515.96   39564.25
     m3_rp61 |      7,321          .  -19747.34       8   39510.68   39565.86
     m3_rp71 |      7,321          .   -19746.7       9   39511.41    39573.5
     m3_rp81 |      7,321          .  -19745.38      10   39510.75   39579.74
     m3_rp91 |      7,321          .   -19745.1      11    39512.2   39588.08
    m3_rp101 |      7,321          .  -19744.77      12   39513.54   39596.33
     m3_exp0 |     23,492          .   -65114.5       2     130233   130249.1
    m3_weib0 |     23,492          .  -64786.88       3   129579.8     129604
     m3_gom0 |     23,492          .  -64242.24       3   128490.5   128514.7
    m3_logl0 |     23,492          .  -64570.11       3   129146.2   129170.4
    m3_logn0 |     23,492          .  -64570.11       3   129146.2   129170.4
    m3_ggam0 |     23,492          .  -64116.44       4   128240.9   128273.1
     m3_rp20 |     23,492          .  -64012.58       4   128033.2   128065.4
     m3_rp30 |     23,492          .  -64006.14       5   128022.3   128062.6
     m3_rp40 |     23,492          .  -63994.94       6   128001.9   128050.3
     m3_rp50 |     23,492          .  -63989.25       7   127992.5     128049
     m3_rp60 |     23,492          .  -63987.78       8   127991.6   128056.1
     m3_rp70 |     23,492          .  -63987.34       9   127992.7   128065.3
     m3_rp80 |     23,492          .  -63984.49      10     127989   128069.6
     m3_rp90 |     23,492          .  -63982.45      11   127986.9   128075.6
    m3_rp100 |     23,492          .  -63982.32      12   127988.6   128085.4
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. //we store in a matrix de survival
. matrix stats_total=r(S)

. 
. estimates clear

. 
. ** to order AICs
. *https://www.statalist.org/forums/forum/general-stata-discussion/general/1665263-sorting-matrix-including-rownames
. mata :
------------------------------------------------- mata (type end to exit) -----------------------------------------------------------------
: 
: void st_sort_matrix(
&gt; //argumento de la matriz
&gt;     string scalar matname, 
&gt; //argumento de las columnas
&gt;     real   rowvector columns
&gt;     )
&gt; {
&gt;     string matrix   rownames
&gt;     real  colvector sort_order
&gt; // defino una base      
&gt;         Y = st_matrix(matname)
&gt;         //[.,(1, 2, 3, 4, 6, 5)]
&gt;  //ordeno las columnas  
&gt;     rownames = st_matrixrowstripe(matname) //[.,(1, 2, 3, 4, 6, 5)]
&gt;     sort_order = order(st_matrix(matname),  (columns))
&gt;     st_replacematrix(matname, st_matrix(matname)[sort_order,.])
&gt;     st_matrixrowstripe(matname, rownames[sort_order,.])
&gt; }
note: variable Y set but not used

: 
: end
-------------------------------------------------------------------------------------------------------------------------------------------

. //mata: mata drop st_sort_matrix()
. 
. mata : st_sort_matrix(&quot;stats_total&quot;, 5)

. 
. matrix stats_total_1 = stats_total 

. 
. esttab matrix(stats_total_1) using &quot;${pathdata2}testreg_aic_oct_22_corr3.csv&quot;, replace
(output written to C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/testreg_aic_oct_22_corr3.csv)

</code></pre>
<pre><code>. * M1[centre]@1              /// random intercept 
&gt; * The key part of the syntax is specifying a normally distributed random effect, which we’ve called M1 (it must start with a capital lett
&gt; er, then a number), with the variable defining the cluster in square brackets [centre], and finally, we tell merlin not to estimate a coe
&gt; fficient, but rather constrain it to be 1. Our model converges nicely, and we observe an estimate of \sigma = 0.897 (95% CI: 0.774, 1.039
&gt; ), showing substantial heterogeneity between centres.
. 
. 
. *A model is now fitted where the assumption of proportional excess hazards is relaxed for all covariates. This is carried out by incorpor
&gt; ating an interaction between each covariate and a restricted cubic spline function of log time with four knots (three degrees of freedom)
&gt; . The knots are placed evenly according to the distribution of log death times. 
. 
. *By default, each level’s random effects are assumed to have covariance(diagonal). We can relax this by estimating a correlation
. *This defines a single normally distribute d random effect, called M1, defined at the id level
. 
. *https://twitter.com/RDAnalyticsAB/status/1480550277111595010/photo/1
. *https://reddooranalytics.se/2022/02/18/flexible-parametric-survival-analysis-with-frailty/
. *https://arxiv.org/pdf/1806.01615.pdf
. 
.         // Exponential
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Exp (intercept-only)}&quot;
 Transition : family Exp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at trial level- coefficient is constrained to be 1
&gt;          ,                                                                      ///
&gt;          family(exponential, failure(_status))) //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.                  *timevar(timevar0)) //timevar window of follow-up *timevar() not currently supported with family(ggamma)
.         estimates store m4_exp1

.         // Weibull
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Wei (intercept-only)}&quot;
 Transition : family Wei (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at trial level- coefficient is constrained to be 1
&gt;          ,                                                                      ///
&gt;          family(weibull, failure(_status))),  //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

. 
.         estimates store m4_weib1

.         // Gompertz
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Gomp (intercept-only)}&quot;
 Transition : family Gomp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(gompertz, failure(_status))),   //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_gom1

.         // Log logistic
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logl (intercept-only)}&quot;
 Transition : family Logl (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(loglogistic, failure(_status))),        //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_logl1

.         // Log normal
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logn (intercept-only)}&quot;
 Transition : family Logn (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(lognormal, failure(_status))),  //  distribution &amp; event indicator

Fitting fixed effects model:
initial values not feasible
initial values not feasible

.         estimates store m4_logn1

.         // Generalised gamma
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Ggam (intercept-only)}&quot;
 Transition : family Ggam (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(ggamma, failure(_status))),     //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_ggam1

.         // Royston Parmar models
.         forvalues j=2/10 {
  2.                 set seed 2125
  3.                 di in yellow &quot;{bf: ***********}&quot;
  4.                 di in yellow &quot;{bf: Transition : family RP`j' (intercept-only)}&quot;
  5.                 di in yellow &quot;{bf: ***********}&quot;
  6.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==1                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;                          family(rp, df(`j') failure(_status))),         //  distribution &amp; event indicator              
  7.                         estimates store m4_rp`j'1
  8.         }       
 ***********
 Transition : family RP2 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_2

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP3 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_3

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP4 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_4

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP5 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_5

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP6 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_6

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP7 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_7

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP8 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_8

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP9 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_9

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP10 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_10

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

. 
.         // Exponential
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Exp (intercept-only)}&quot;
 Transition : family Exp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(exponential, failure(_status))),  //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.                  *timevar(timevar0)) //timevar window of follow-up *timevar() not currently supported with family(ggamma)
.         estimates store m4_exp0

.         // Weibull
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Wei (intercept-only)}&quot;
 Transition : family Wei (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(weibull, failure(_status))),  //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_weib0

.         // Gompertz
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Gomp (intercept-only)}&quot;
 Transition : family Gomp (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(gompertz, failure(_status))),   //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_gom0

.         // Log logistic
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logl (intercept-only)}&quot;
 Transition : family Logl (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(loglogistic, failure(_status))),        //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_logl0

.         // Log normal
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Logn (intercept-only)}&quot;
 Transition : family Logn (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(lognormal, failure(_status))),  //  distribution &amp; event indicator

Fitting fixed effects model:
initial values not feasible
initial values not feasible

.         estimates store m4_logn0

.         // Generalised gamma
.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         di in yellow &quot;{bf: Transition : family Ggam (intercept-only)}&quot;
 Transition : family Ggam (intercept-only)

.         di in yellow &quot;{bf: ***********}&quot;
 ***********

.         set seed 2125

.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;          family(ggamma, failure(_status))),     //  distribution &amp; event indicator

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         estimates store m4_ggam0

.         // Royston Parmar models
.         forvalues j=2/10 {
  2.                 set seed 2125
  3.                 di in yellow &quot;{bf: ***********}&quot;
  4.                 di in yellow &quot;{bf: Transition : family RP`j' (intercept-only)}&quot;
  5.                 di in yellow &quot;{bf: ***********}&quot;
  6.         qui cap noi merlin (_time                               /// recurrent event times
&gt;          tipo_de_plan_res_1                                     /// treatment (fixed effect)
&gt;          M1[id]@1 if TD_1==0                            /// random int. at id level- coef constrained to be 1 restricting cov term to 1
&gt;          ,                                                                      ///
&gt;                          family(rp, df(`j') failure(_status))),         //  distribution &amp; event indicator              
  7.                         estimates store m4_rp`j'0
  8.         }               
 ***********
 Transition : family RP2 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_2

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP3 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_3

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP4 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_4

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP5 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_5

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP6 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_6

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP7 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_7

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP8 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_8

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP9 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_9

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error
 ***********
 Transition : family RP10 (intercept-only)
 ***********
variables created: _rcs1_1 to _rcs1_10

Fitting fixed effects model:
          merlin_setup():  3010  attempt to dereference NULL pointer
                 &lt;istmt&gt;:     -  function returned error

.         
. estwrite _all using &quot;${pathdata2}parmodels_m2_oct_22_corr3.sters&quot;, replace
(saving m4_exp1)
(saving m4_weib1)
(saving m4_gom1)
(saving m4_logl1)
(saving m4_logn1)
(saving m4_ggam1)
(saving m4_rp21)
(saving m4_rp31)
(saving m4_rp41)
(saving m4_rp51)
(saving m4_rp61)
(saving m4_rp71)
(saving m4_rp81)
(saving m4_rp91)
(saving m4_rp101)
(saving m4_exp0)
(saving m4_weib0)
(saving m4_gom0)
(saving m4_logl0)
(saving m4_logn0)
(saving m4_ggam0)
(saving m4_rp20)
(saving m4_rp30)
(saving m4_rp40)
(saving m4_rp50)
(saving m4_rp60)
(saving m4_rp70)
(saving m4_rp80)
(saving m4_rp90)
(saving m4_rp100)
(file C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/parmodels_m2_oct_22_corr3.sters saved)

.         
</code></pre>
<pre><code>. qui count if _d == 1
_d not found
r(111);

. // we count the amount of cases with the event in the strata
. //we call the estimates stored, and the results...
. estimates stat m4_*, n(`r(N)')

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
     m4_exp1 |      7,321          .  -20012.01       2   40028.03   40041.82
    m4_weib1 |      7,321          .  -20000.32       3   40006.65   40027.34
     m4_gom1 |      7,321          .   -4547438       0    9094876    9094876
    m4_logl1 |      7,321          .  -19931.22       3   39868.44   39889.13
    m4_logn1 |      7,321          .  -19931.22       3   39868.44   39889.13
    m4_ggam1 |      7,321          .  -19814.95       4    39637.9    39665.5
     m4_rp21 |      7,321          .  -19762.32       4   39532.64   39560.24
     m4_rp31 |      7,321          .  -19758.21       5   39526.42   39560.91
     m4_rp41 |      7,321          .  -19754.26       6   39520.51    39561.9
     m4_rp51 |      7,321          .  -19750.98       7   39515.96   39564.25
     m4_rp61 |      7,321          .  -19747.34       8   39510.68   39565.86
     m4_rp71 |      7,321          .   -19746.7       9   39511.41    39573.5
     m4_rp81 |      7,321          .  -19745.38      10   39510.75   39579.74
     m4_rp91 |      7,321          .   -19745.1      11    39512.2   39588.08
    m4_rp101 |      7,321          .  -19744.77      12   39513.54   39596.33
     m4_exp0 |     23,492          .   -65114.5       2     130233   130249.1
    m4_weib0 |     23,492          .  -64786.88       3   129579.8     129604
     m4_gom0 |     23,492          .  -64242.24       3   128490.5   128514.7
    m4_logl0 |     23,492          .  -64570.11       3   129146.2   129170.4
    m4_logn0 |     23,492          .  -64570.11       3   129146.2   129170.4
    m4_ggam0 |     23,492          .  -64116.44       4   128240.9   128273.1
     m4_rp20 |     23,492          .  -64012.58       4   128033.2   128065.4
     m4_rp30 |     23,492          .  -64006.14       5   128022.3   128062.6
     m4_rp40 |     23,492          .  -63994.94       6   128001.9   128050.3
     m4_rp50 |     23,492          .  -63989.25       7   127992.5     128049
     m4_rp60 |     23,492          .  -63987.78       8   127991.6   128056.1
     m4_rp70 |     23,492          .  -63987.34       9   127992.7   128065.3
     m4_rp80 |     23,492          .  -63984.49      10     127989   128069.6
     m4_rp90 |     23,492          .  -63982.45      11   127986.9   128075.6
    m4_rp100 |     23,492          .  -63982.32      12   127988.6   128085.4
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. //we store in a matrix de survival
. matrix stats_total2=r(S)

. 
. estimates clear

. 
. mata : st_sort_matrix(&quot;stats_total2&quot;, 5)

. 
. matrix stats_total_2 = stats_total2 

. 
. esttab matrix(stats_total_2) using &quot;${pathdata2}testreg_aic_oct_22_corr3_2.csv&quot;, replace
(output written to C:/Users/CISS Fondecyt/Mi unidad/Alvacast/SISTRAT 2019 (github)/_mult_state_ags/testreg_aic_oct_22_corr3_2.csv)

</code></pre>
<pre><code>. 
. qui noi estread using &quot;${pathdata2}parmodels_m_oct_22_corr3.sters&quot;

-----------------------------------------------------------------------------
        name | command      depvar       npar  title 
-------------+---------------------------------------------------------------
     m3_exp1 | merlin       no depvar       6  Mixed effects regression model
    m3_weib1 | merlin       no depvar       7  Mixed effects regression model
    m3_logl1 | merlin       no depvar       7  Mixed effects regression model
    m3_logn1 | merlin       no depvar       7  Mixed effects regression model
    m3_ggam1 | merlin       no depvar       4  Fixed effects regression model
     m3_rp21 | merlin       no depvar       4  Fixed effects regression model
     m3_rp31 | merlin       no depvar       5  Fixed effects regression model
     m3_rp41 | merlin       no depvar       6  Fixed effects regression model
     m3_rp51 | merlin       no depvar       7  Fixed effects regression model
     m3_rp61 | merlin       no depvar       8  Fixed effects regression model
     m3_rp71 | merlin       no depvar       9  Fixed effects regression model
     m3_rp81 | merlin       no depvar      10  Fixed effects regression model
     m3_rp91 | merlin       no depvar      11  Fixed effects regression model
    m3_rp101 | merlin       no depvar      12  Fixed effects regression model
     m3_exp0 | merlin       no depvar       2  Fixed effects regression model
    m3_weib0 | merlin       no depvar       3  Fixed effects regression model
     m3_gom0 | merlin       no depvar       3  Fixed effects regression model
    m3_logl0 | merlin       no depvar       3  Fixed effects regression model
    m3_logn0 | merlin       no depvar       3  Fixed effects regression model
    m3_ggam0 | merlin       no depvar       4  Fixed effects regression model
     m3_rp20 | merlin       no depvar       4  Fixed effects regression model
     m3_rp30 | merlin       no depvar       5  Fixed effects regression model
     m3_rp40 | merlin       no depvar       6  Fixed effects regression model
     m3_rp50 | merlin       no depvar       7  Fixed effects regression model
     m3_rp60 | merlin       no depvar       8  Fixed effects regression model
     m3_rp70 | merlin       no depvar       9  Fixed effects regression model
     m3_rp80 | merlin       no depvar      10  Fixed effects regression model
     m3_rp90 | merlin       no depvar      11  Fixed effects regression model
    m3_rp100 | merlin       no depvar      12  Fixed effects regression model
-----------------------------------------------------------------------------

. 
. estimates restore m3_rp90
(results m3_rp90 are active now)

. estimates replay m3_rp90

-------------------------------------------------------------------------------------------------------------------------------------------
Model m3_rp90
-------------------------------------------------------------------------------------------------------------------------------------------

Fixed effects regression model                  Number of obs     =     23,492
Log likelihood = -63982.449
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |   .2914121   .0241941    12.04   0.000     .2439925    .3388316
       _cons |  -1.673875   .0187221   -89.41   0.000     -1.71057   -1.637181
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display

. predict hr0, hr at1(tipo_de_plan_res_1 1) at2(tipo_de_plan_res_1 0) timevar(timevar0) ci
(30,633 missing values generated)
note: confidence intervals calculated using Z critical values

.                         
. estimates restore m3_rp61
(results m3_rp61 are active now)

. estimates replay m3_rp61

-------------------------------------------------------------------------------------------------------------------------------------------
Model m3_rp61
-------------------------------------------------------------------------------------------------------------------------------------------

Fixed effects regression model                  Number of obs     =      7,321
Log likelihood = -19747.338
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |   .4566253   .0497257     9.18   0.000     .3591648    .5540858
       _cons |  -1.852419    .043706   -42.38   0.000    -1.938081   -1.766756
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display

. predict hr1, hr at1(tipo_de_plan_res_1 1) at2(tipo_de_plan_res_1 0) timevar(timevar0) ci
(30,633 missing values generated)
note: confidence intervals calculated using Z critical values

. tw      (rarea hr0_lci hr0_uci _time, sort lcolor(blue) fcolor(blue%25)) (line hr0 _time, sort lcolor(blue) fcolor(blue%25)) ///
&gt;         (rarea hr1_lci hr1_uci _time, sort lcolor(red) fcolor(red%25)) (line hr1 _time, sort lcolor(red) fcolor(red%25))  ///
&gt;                         , xtitle(&quot;Follow-up time&quot;) ytitle(&quot;Hazard ratio&quot;) ///
&gt;                         ylabel(, angle(h)format(%3.2f)) ///
&gt;                         legend(order(2 &quot;HR (TNC)&quot; 1 &quot;95% CI&quot; 4 &quot;HR (TC)&quot; 3 &quot;95% CI&quot; ) ring(0) pos(1))

. 
</code></pre>
<pre><code>. 
. qui noi estread using &quot;${pathdata2}parmodels_m2_oct_22_corr3.sters&quot;

-----------------------------------------------------------------------------
        name | command      depvar       npar  title 
-------------+---------------------------------------------------------------
     m4_exp1 | merlin       no depvar       2  Fixed effects regression model
    m4_weib1 | merlin       no depvar       3  Fixed effects regression model
     m4_gom1 | merlin       no depvar       3  Fixed effects regression model
    m4_logl1 | merlin       no depvar       3  Fixed effects regression model
    m4_logn1 | merlin       no depvar       3  Fixed effects regression model
    m4_ggam1 | merlin       no depvar       4  Fixed effects regression model
     m4_rp21 | merlin       no depvar       4  Fixed effects regression model
     m4_rp31 | merlin       no depvar       5  Fixed effects regression model
     m4_rp41 | merlin       no depvar       6  Fixed effects regression model
     m4_rp51 | merlin       no depvar       7  Fixed effects regression model
     m4_rp61 | merlin       no depvar       8  Fixed effects regression model
     m4_rp71 | merlin       no depvar       9  Fixed effects regression model
     m4_rp81 | merlin       no depvar      10  Fixed effects regression model
     m4_rp91 | merlin       no depvar      11  Fixed effects regression model
    m4_rp101 | merlin       no depvar      12  Fixed effects regression model
     m4_exp0 | merlin       no depvar       2  Fixed effects regression model
    m4_weib0 | merlin       no depvar       3  Fixed effects regression model
     m4_gom0 | merlin       no depvar       3  Fixed effects regression model
    m4_logl0 | merlin       no depvar       3  Fixed effects regression model
    m4_logn0 | merlin       no depvar       3  Fixed effects regression model
    m4_ggam0 | merlin       no depvar       4  Fixed effects regression model
     m4_rp20 | merlin       no depvar       4  Fixed effects regression model
     m4_rp30 | merlin       no depvar       5  Fixed effects regression model
     m4_rp40 | merlin       no depvar       6  Fixed effects regression model
     m4_rp50 | merlin       no depvar       7  Fixed effects regression model
     m4_rp60 | merlin       no depvar       8  Fixed effects regression model
     m4_rp70 | merlin       no depvar       9  Fixed effects regression model
     m4_rp80 | merlin       no depvar      10  Fixed effects regression model
     m4_rp90 | merlin       no depvar      11  Fixed effects regression model
    m4_rp100 | merlin       no depvar      12  Fixed effects regression model
-----------------------------------------------------------------------------

. 
. estimates restore m4_rp90
(results m4_rp90 are active now)

. estimates replay m4_rp90

-------------------------------------------------------------------------------------------------------------------------------------------
Model m4_rp90
-------------------------------------------------------------------------------------------------------------------------------------------

Fixed effects regression model                  Number of obs     =     23,492
Log likelihood = -63982.449
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |   .2914121   .0241941    12.04   0.000     .2439925    .3388316
       _cons |  -1.673875   .0187221   -89.41   0.000     -1.71057   -1.637181
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display

. predict hr2, hr at1(tipo_de_plan_res_1 1) at2(tipo_de_plan_res_1 0) timevar(timevar0) ci
(30,633 missing values generated)
note: confidence intervals calculated using Z critical values

.                         
. estimates restore m4_rp61
(results m4_rp61 are active now)

. estimates replay m4_rp61

-------------------------------------------------------------------------------------------------------------------------------------------
Model m4_rp61
-------------------------------------------------------------------------------------------------------------------------------------------

Fixed effects regression model                  Number of obs     =      7,321
Log likelihood = -19747.338
------------------------------------------------------------------------------
             |      Coef.   Std. Err.      z    P&gt;|z|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
_time:       |            
tipo_de_pl~1 |   .4566253   .0497257     9.18   0.000     .3591648    .5540858
       _cons |  -1.852419    .043706   -42.38   0.000    -1.938081   -1.766756
------------------------------------------------------------------------------
    Warning: Baseline spline coefficients not shown - use ml display

. predict hr3, hr at1(tipo_de_plan_res_1 1) at2(tipo_de_plan_res_1 0) timevar(timevar0) ci
(30,633 missing values generated)
note: confidence intervals calculated using Z critical values

. tw      (rarea hr2_lci hr2_uci _time, sort lcolor(blue) fcolor(blue%25)) (line hr2 _time, sort lcolor(blue) fcolor(blue%25)) ///
&gt;         (rarea hr3_lci hr3_uci _time, sort lcolor(red) fcolor(red%25)) (line hr3 _time, sort lcolor(red) fcolor(red%25))  ///
&gt;                         , xtitle(&quot;Follow-up time&quot;) ytitle(&quot;Hazard ratio&quot;) ///
&gt;                         ylabel(, angle(h)format(%3.2f)) ///
&gt;                         legend(order(2 &quot;HR (TC)&quot; 1 &quot;95% CI&quot; 4 &quot;HR (TWC)&quot; 3 &quot;95% CI&quot; ) ring(0) pos(1))

. 
</code></pre>
